[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "",
    "text": "Search Keys: ressected; bandle; object point; convergence; compute; all images."
  },
  {
    "objectID": "index.html#quick-guide",
    "href": "index.html#quick-guide",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.1 Quick Guide",
    "text": "4.1 Quick Guide\n\nGuia Rápido\n\nUtilize este guia para percorrer, passo a passo, o processo de calibração de um sistema de câmeras estéreo. Após capturar e transferir as imagens de um cubo de calibração, siga as etapas descritas a seguir.\nEste guia pressupõe que você já possui arquivos de câmera (.CamCAL) para iniciar a calibração. Caso isso não seja verdade, consulte a página de download do software (aqui) para encontrar arquivos de câmera comumente utilizados, entre em contato conosco para obter assistência ou consulte a seção Section 4.5 para criar os arquivos necessários.\n\n\n\n\n\n\nÉ importante iniciar com arquivos de câmera que você saiba que estão corretos.\n\n\n\n\n4.1.1 Organize the data\n\nOrganize os dados\n\n\nUsando o Explorador de Arquivos do Windows, crie um novo diretório (pasta) para o projeto.\nCopie todos os arquivos de imagem associados à calibração para o novo diretório (nova pasta). Normalmente, serão dois arquivos de vídeo: um da câmera esquerda e outro da câmera direita.\nCopie para esse diretório o arquivo de pontos do objeto (.PtsCAL) do cubo de calibração. Esse arquivo deve ser sempre uma cópia limpa do arquivo original.\nCopie para esse diretório os arquivos da câmera esquerda e direita (.CamCAL). Esses arquivos geralmente são provenientes da calibração anterior mais recente.\n\n\n\n4.1.2 Create a new project\n\nCrie um novo projeto\n\n\nNo CAL, crie um novo projeto usando Project | New project. Se necessário, você será solicitado a salvar quaisquer dados não salvos associados ao projeto atual. Insira um nome para o arquivo do projeto (por exemplo, “Calibration”) e salve o arquivo do projeto no novo diretório que você acabou de criar para este projeto.\nA criação de um novo projeto inicia um processo de assistente (wizard process) que solicita a configuração do restante do projeto. Basta seguir as instruções, lembrando que todos os arquivos estão localizados no mesmo diretório, e que o CAL usará, por padrão, o diretório onde o novo arquivo de projeto foi criado.\nCarregue os arquivos da câmera esquerda e direita (.CamCAL), conforme solicitado.\nCarregue o arquivo do cubo de calibração (.PtsCAL), conforme solicitado.\nDefina o diretório de imagens conforme solicitado. O diretório de imagens é automaticamente definido como o mesmo diretório do arquivo do projeto; portanto, se todos os arquivos da calibração estiverem em um único diretório, basta verificar e clicar em OK.\nSalve o novo arquivo de medições conforme solicitado. Será necessário atribuir um nome a esse arquivo (por exemplo, “Measurements”), e ele será o local onde as medições da calibração serão armazenadas.\nCarregue a imagem da câmera esquerda. Normalmente, esse será o arquivo de vídeo da câmera esquerda, e ele será automaticamente adicionado à configuração da sequência de filmes (Movie sequence) da câmera esquerda. Caso existam mais arquivos de vídeo na sequência, eles podem ser adicionados nesse momento (ver Sequências de filmes). Em seguida, clique em OK.\nCarregue a imagem da câmera direita. Normalmente, esse será o arquivo de vídeo da câmera direita, e ele será automaticamente adicionado à configuração da sequência de filmes da câmera direita. Caso existam mais arquivos de vídeo na sequência, eles podem ser adicionados nesse momento (ver Sequências de filmes). Em seguida, clique em OK.\nA janela Current project files (Arquivos do projeto atual) será exibida. Todos os campos devem estar preenchidos, e todos os itens listados devem estar no mesmo diretório. Clique em Close dialog (Fechar diálogo).\n\n\n\n\n\n\n\nNote\n\n\n\nSe houver dificuldades para chegar a esse ponto, consulte Creating new projects and data organization(), que fornece mais detalhes ou mostra como configurar o projeto manualmente.\n\n\n\n\n4.1.3 Medições\n\n\n4.1.4 Ajuste\n\nApós concluir todas as medições de imagem, calcule o ajuste de feixe usando Ajuste | Calcular ajuste de feixe.\nSe você receber uma mensagem de aviso sobre medições de distância excluídas ou baixa precisão relativa, ignore-a por enquanto. Se o ajuste falhar, consulte os motivos pelos quais um ajuste de feixe pode falhar. Se ainda estiver com dificuldades para obter resultados que não convergem, tente uma solução apenas com a face frontal, descrita em Ajustes com falha em um cubo de calibração SeaGIS.\nQuando o ajuste for bem-sucedido, siga os passos abaixo para produzir um conjunto “limpo” de medições de imagem, sem rejeições:\n\ni. Aceite os resultados do ajuste (usando o botão Aceitar resultados).\nii. Exclua as medições rejeitadas usando Medição | Excluir medições de ponto rejeitadas.\niii. Procure por alvos ausentes usando Medição | Encontrar alvos em todas as imagens.\niv. Calcule outro ajuste de feixe (Ajuste | Calcular ajuste de feixe) e aceite os resultados.\nv. Exclua as medições rejeitadas usando Medição | Excluir medições de ponto rejeitadas.\nvi. Calcule um ajuste de feixe final (Ajuste | Calcular ajuste de feixe). Neste ponto, você deverá ter um ajuste de feixe correto. Verifique o seguinte no resumo de Ajuste (uma mensagem de aviso alertará sobre possíveis problemas de medição de distância e precisão relativa). Você deverá ter zero Eligible image measurements excluídas e zero Eligible distance measurements excluídas. Medições de distância excluídas podem ser causadas por um cubo montado incorretamente, cubo danificado ou medição de locais de pontos de ressecção incorretos – este problema deve ser corrigido. Verifique se o valor de precisão relativa está de acordo com o esperado para o seu sistema de câmera e método de calibração. O CAL possui alguns avisos integrados com base em cenários típicos de calibração: geralmente melhor que 1:10.000 para uma calibração estéreo de um sistema de câmera de alta definição usando o hardware de calibração SeaGIS. Valores mais baixos podem ser causados ​​por baixa visibilidade, imagens desfocadas, iluminação inadequada (baixo contraste do alvo), número insuficiente de pontos medidos ou cubo muito distante das câmeras. Clique em Aceitar resultados.\n\n\nObserve que o ajuste do feixe precisa ter qualidade aceitável antes de prosseguir.\n\n\n4.1.5 Geração de arquivos de câmera estéreo\nNote, todas as operações de menu mencionadas nesta seção estão em Measurement | Stereo constraints.\n\nConfigure as restrições estéreo usando Configure stereo constraints . Nesta caixa de diálogo, geralmente basta garantir que a câmera esquerda e a câmera direita estejam selecionadas corretamente e, em seguida, clicar no botão *Automatic* para gerar os pares esquerda/direita. Você receberá uma mensagem de erro se houver um número diferente de imagens esquerda e direita medidas, pois o software não consegue criar pares estéreo – você precisará encontrar e corrigir a imagem esquerda/direita que não possui uma imagem direita/esquerda correspondente (consulte Configurando restrições).\nEstime as restrições usando *Estimating constraints* (consulte Estimando restrições). Um aviso será exibido se mais de quatro pares estéreo forem excluídos (consulte os comentários na próxima etapa).\nVerifique a orientação relativa usando View stereo constraints. Verifique se os resíduos de restrição são aceitáveis ​​e se não houve muitas restrições que foram excluídas do cálculo (coluna Exclusions). Se mais de quatro restrições forem rejeitadas, verifique novamente a sincronização estéreo. Para mais detalhes, consulte Visualizando as restrições.\nGere os arquivos da câmera estéreo usando Exportar arquivos da câmera estéreo (consulte Exportando arquivos da câmera estéreo).\n\n\n\n4.1.6 Salvando resultados\nA maneira mais simples de salvar o projeto e todos os dados associados é fechar o CAL. O programa solicitará que você salve todos os dados não salvos.\n\n\n4.1.7 Carregando calibrações anteriores\nCalibrações anteriores podem ser carregadas clicando duas vezes em um arquivo de projeto CAL (.PrjCAL) no Explorador de Arquivos do Windows ou usando o menu CAL &gt; Projeto | Ler do arquivo.\nSe arquivos (como arquivos de câmera, arquivo de pontos do objeto ou arquivo de medição) originalmente associados ao projeto tiverem sido movidos para uma unidade e/ou pasta diferente, o projeto será corrompido e você precisará recriá-lo manualmente, localizando e carregando os arquivos necessários. Consulte Recriando um projeto de calibração a partir de dados existentes."
  },
  {
    "objectID": "index.html#project-files",
    "href": "index.html#project-files",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.4 Project files",
    "text": "4.4 Project files\nReading and writing to file"
  },
  {
    "objectID": "index.html#sec-cameras",
    "href": "index.html#sec-cameras",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.5 Cameras",
    "text": "4.5 Cameras\n\nCâmeras\n\nO acesso às informações da câmera e às operações específicas da câmera é feito por meio do menu Camera.\nAs informações da câmera são armazenadas em um arquivo (um arquivo separado para cada câmera). Os nomes dos arquivos de câmera atuais são armazenados no arquivo do projeto e são carregados automaticamente quando o CAL é iniciado. Observe que esses arquivos de câmera possuem a extensão .CamCAL. Esses arquivos são diferentes dos arquivos de câmera estéreo (com extensão .Cam), que o CAL exporta para uso em softwares de medição estéreo, como o EventMeasure ou o StereoLib.\n\n4.5.1 Reading and writing to file\n\nLeitura e gravação em arquivo\n\nAs informações da câmera podem ser gravadas em um arquivo ou lidas a partir de um arquivo. Para ler ou gravar um arquivo de câmera, utilize o comando de menu Camera | Left | Read from file ou Camera | Left | Write to file. Comandos idênticos estão disponíveis para a câmera direita.\nSe uma nova câmera for lida a partir de um arquivo ou salva em um arquivo com um nome diferente, essa alteração será atualizada no arquivo de projeto atual.\n\n\n4.5.2 Editing camera parameters\n\nEdição de parâmetros da câmera\n\nPara visualizar ou editar os parâmetros de uma câmera, utilize o comando de menu Camera | Left | Edit parameters (ou Camera | Right | Edit parameters para a câmera direita). Será exibida uma janela com os seguintes itens:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nItens com um visto verde ao lado podem ser editados dando um duplo clique no item e digitando um novo valor. Os itens na coluna Units indicam as unidades do parâmetro. Os valores na coluna Precision podem ser “Fixed parameter” (parâmetro fixo) ou um valor numérico. A ausência de valor indica que o parâmetro da câmera ainda não foi estimado por um ajuste de feixe; já um valor numérico indica que o parâmetro foi estimado pelo ajuste de feixe, e esse valor corresponde à precisão do parâmetro.\nOs parâmetros X Pixel size e Y Pixel size são propriedades da câmera e, em geral, podem ser encontrados no site do fabricante ou em uma ficha técnica ou folha de especificações da câmera. Frequentemente, o tamanho do pixel precisa ser derivado a partir do tamanho do sensor da câmera e do formato da imagem. Normalmente, o fabricante informa esses valores em unidades de micrômetros. Certifique-se de converter os valores para milímetros (mm) ao inseri-los como parâmetros da câmera.\nPara calibrações de câmera subaquáticas utilizando uma porta plana do invólucro da câmera, o valor da distância focal em água será aproximadamente 4/3 do valor no ar (por exemplo, uma lente com distância focal de 4,8 mm no ar terá aproximadamente 6,4 mm na água). Certifique-se de considerar o efeito de quaisquer adaptadores de lente grande-angular.\nQuando uma nova câmera estiver sendo calibrada (isto é, não existe um arquivo .CamCAL prévio), será necessário especificar: Image rows, Image columns, X Pixel size, Y Pixel size, e estimar a Focal length. Todos os demais parâmetros da câmera podem ser inicialmente estimados como zero, tendo seus valores determinados durante o processo de calibração.\n\n\n4.5.3 Fixing camera parameters"
  },
  {
    "objectID": "index.html#measurement",
    "href": "index.html#measurement",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.9 Measurement",
    "text": "4.9 Measurement\n\nMedições\n\nEsta seção aborda o processo de realização de medições de pontos, bem como descreve o uso dos itens do menu Measurement.\n\n4.9.1 Pontos de Medida\nPoint measurement\n\n\n4.9.2 Salvando e lendo as medidas\nSaving and reading measurements\n\n\n4.9.3 Convertendo vídeos para JPEG\n\nConvert movie to JPEG\n\n\n\n4.9.4 Frames deslocados\nOffset frames\n\n\n4.9.5 Visualizar dados de orientação\nView orientation data\n\n\n4.9.6 Visualizar/ Excluir medições de imagem\nView/ delete image measurement\n\n\n4.9.7 Resumo das medições de imagem\nImage measurement summary\n\n\n4.9.8 Excluir medições da face posterior\n\nDelete back face measurement\n\nAo utilizar um cubo de calibração padrão da SeaGIS, é possível usar Measurement | Delete back face measurement para remover todas as medições de imagem associadas a pontos na face posterior do cubo. Essa função é uma ferramenta útil para lidar com ajustes de feixe (bundle adjustments) que não convergem; ver Section 4.10.5.\n\n\n4.9.9 Cálculo do centróide\nCentroiding\n\n\n4.9.10 Restrições Estereoscópicas\nStereo constraints\nEsta seção aborda as opções de menu disponíveis em Measurement | Stereo constraints. Essas operações são utilizadas para configurar restrições estereoscópicas e calcular a orientação relativa de um par de câmeras estereoscópicas (a orientação relativa descreve a posição e a orientação de uma câmera em relação à outra e é necessária para realizar medições com um sistema de câmeras estereoscópicas). Essas opções são fornecidas principalmente para gerar arquivos de câmera estereoscópica (extensão .cam) para uso com PhotoMeasure, EventMeasure e StereoLib.\nEm calibrações de câmeras estereoscópicas, a câmera 1 refere-se à câmera esquerda e a câmera 2 refere-se à câmera direita. O CAL mantém um sistema de numeração, em vez de utilizar os termos “Esquerda” e “Direita”, para facilitar calibrações genéricas em sistemas com mais de duas câmeras.\n\n4.9.10.1 Configuração das restrições\nConfigure constraints\nUse o comando de menu Configure stereo constraints para definir as restrições. Uma janela será exibida. O principal objetivo dessa janela é permitir a definição de pares estereoscópicos de imagens esquerda e direita, a partir dos quais a orientação relativa das câmeras pode ser determinada.\nSelecione a câmera esquerda (Left camera) e a câmera direita (Right camera) apropriadas usando as caixas de seleção. Na maioria dos casos, o restante da configuração pode ser realizado utilizando o botão Automatic. Ao clicar em Automatic, a lista de pareamentos será preenchida com combinações de nome do arquivo da esquerda (nº do frame, nº da câmera) e nome do arquivo da direita (nº do frame, nº da câmera). Verifique se os pareamentos representam pares estereoscópicos válidos; caso contrário, será necessário editar a lista manualmente. Observe que, em calibrações estereoscópicas padrão, a câmera 1 corresponde à câmera esquerda e a câmera 2 à câmera direita.\nPara excluir um pareamento, selecione-o e clique no botão Delete. Para adicionar um pareamento manualmente, selecione um Filename da câmera esquerda (nº do frame, nº da câmera) e um Filename da câmera direita (nº do frame, nº da câmera) e clique em Add. Se algum dos dados recém-adicionados já estiver presente na lista atual de pareamentos, ele será automaticamente removido e substituído pelo novo pareamento estereoscópico.\nClique em OK para aceitar a nova configuração ou em Cancel para ignorar as alterações.\n\n\n4.9.10.2 Estimar restrições\nEstimate constraints\nDepois que as restrições estiverem configuradas, a orientação relativa pode ser estimada. Utilize o comando de menu Estimate constraints. Uma janela será exibida mostrando a orientação relativa calculada. Os detalhes dessa janela são explicados na seção Viewing the relative orientation.\nSe mais de quatro pares estereoscópicos apresentarem exclusões associadas, será exibida uma mensagem de aviso. A presença de mais de quatro pares estereoscópicos com exclusões indica possíveis problemas de sincronização estereoscópica ou, alternativamente, problemas no ajuste de feixe (ver Viewing the constraints {Section 4.9.10.3} abaixo).\n\n\n4.9.10.3 Visualização das restrições\nViewing the constraints\nDepois que as restrições estereoscópicas forem configuradas (ver Configuring constraints) e estimadas (ver Estimating constraints, ou estimadas durante um ajuste de feixe), a qualidade da estimativa pode ser avaliada usando o comando de menu View stereo constraints. Esse comando abre uma janela que exibe cada pareamento estereoscópico em uma linha, iniciando com o Filename da câmera esquerda e da câmera direita (número do frame, número da câmera).\nAs colunas seguintes apresentam os resíduos para Base, Delta omega, Left phi, Left kappa, Right phi e Right kappa. Os resíduos correspondem à diferença entre a orientação relativa de cada par estereoscópico esquerda/direita individual e a orientação relativa média calculada a partir de todos os pares estereoscópicos.\nA coluna final lista quaisquer componentes que tenham sido automaticamente excluídos do cálculo da orientação relativa com base em seus resíduos (ver Stereo constraints para a definição dos limiares dessas exclusões e para saber quando esses limiares podem precisar ser ajustados). A magnitude dos resíduos das restrições estereoscópicas depende, em grande parte, da qualidade da sincronização das câmeras estereoscópicas. Se uma das restrições apresentar muitos componentes excluídos, deve-se suspeitar que a sincronização estereoscópica desse pareamento esquerda/direita esteja incorreta. Isso frequentemente ocorre devido a movimento excessivo do sistema de câmeras e/ou da estrutura de calibração, em combinação com um pequeno erro de sincronização — possivelmente inferior a um frame — ou ainda devido a um erro na seleção do par estereoscópico durante a configuração das restrições (ver Configuring constraints).\nSe muitos dos pares estereoscópicos estiverem sendo excluídos e a sincronização e a configuração dos pares estiverem corretas, pode ser necessário aumentar os limiares de exclusão. Para isso, aumente os valores de Critical value for base rejection e/ou Critical value for orientation rejection em Stereo constraints, e então reestime as restrições conforme descrito em Estimating constraints. Sempre investigue a sincronização das imagens estereoscópicas e o pareamento das imagens como a principal causa das rejeições antes de ajustar esses limiares.\n\n\n\n\n\n\nNote\n\n\n\nÉ impossível obter uma sincronização consistentemente perfeita em sistemas de câmeras de vídeo estereoscópicas que dependem de sincronização visual. Nesses sistemas, o erro de sincronização pode chegar, no pior caso, a meio frame. Esse erro de sincronização, em combinação com o movimento do sistema de câmeras e/ou da estrutura de calibração, inevitavelmente resultará em exclusões nas restrições estereoscópicas. Em função desse erro de sincronização, é aceitável que até quatro pares estereoscópicos apresentem exclusões.\n\n\n\n\n4.9.10.4 Visualização da orientação relativa\nView relative orientation\nUtilize o comando de menu View relative orientation para visualizar os parâmetros atuais da orientação relativa. Uma janela será exibida. Nessa janela, a origem dos parâmetros(Parameter source) será indicada como Bundle adjustment se os parâmetros tiverem sido estimados no ajuste de feixe (ver Stereo constraints); caso contrário, será exibido Camera positions and orientations, o que significa que a orientação relativa foi derivada das posições e orientações atuais das câmeras. O número de restrições será igual ao número de restrições configuradas em Configuring constraints.\nA separação da base, Base separation (X), representa a separação física entre as câmeras. Em configurações estereoscópicas típicas, Delta omega, Left kappa e Right kappa tendem a ser próximos de zero, enquanto Left phi e Right phi representam o grau de convergência interna de cada câmera (embora esses valores também fiquem próximos de zero se as câmeras não convergirem). Cada parâmetro possui uma precisão associada ao seu cálculo.\n\n\n4.9.10.5 Exportando os arquivos de câmera estereoscópica\nExporting stereo camera files\nPara exportar arquivos de câmera estereoscópica, as restrições estereoscópicas devem estar configuradas (ver Configuring constraints), estimadas (ver Estimating constraints, ou estimadas durante um ajuste de feixe) e os resultados verificados (ver Viewing the constraints). Em seguida, os arquivos de câmera estereoscópica podem ser criados usando o comando de menu Export stereo camera files.\nSe as restrições não tiverem sido configuradas ou estimadas, será exibida uma mensagem de erro. Inicialmente, os parâmetros da câmera esquerda serão mostrados em uma janela. Clique no botão Close da caixa de diálogo e uma mensagem solicitará que você salve os parâmetros da câmera esquerda. Clique em Yes, e uma janela padrão do Windows será exibida, permitindo selecionar o nome do arquivo de câmera estereoscópica para a câmera esquerda.\nApós o salvamento do arquivo da câmera esquerda, uma nova janela será exibida com os parâmetros da câmera direita. Clique no botão Close da caixa de diálogo, e uma mensagem solicitará que você salve os parâmetros da câmera direita. Clique em Yes para abrir a janela do Windows, na qual será possível selecionar o nome do arquivo da câmera direita.\n\n\n\n4.9.11 Ressecção de todas as imagens\nO comando de menu Medição | Ressecção de todas as imagens na janela principal do CAL calcula uma ressecção em todas as imagens associadas ao projeto atual. Ao término do processo de ressecção, uma janela com um relatório resumido é exibida. A janela lista todas as imagens envolvidas na operação de ressecção, se a ressecção foi bem-sucedida e o erro RMS associado à ressecção. Consulte os botões Ressecção e Encontrar alvos automaticamente para obter mais informações sobre ressecções. Observe que pelo menos quatro pontos de ressecção devem ser medidos em uma imagem antes que ela possa ser ressecada.\nEssa opção geralmente não é usada, pois as imagens normalmente são ressecadas individualmente à medida que são medidas.\n\n\n4.9.12 Encontrar alvos em todas as imagens\nO comando de menu Medição | Encontrar alvos em todas as imagens executa um processo automático no qual todas as imagens do projeto atual são carregadas e uma tentativa é feita para medir quaisquer pontos de objeto não medidos em cada imagem. Enquanto esse processo estiver em execução, uma janela de progresso será exibida. O processo pode ser cancelado a qualquer momento clicando no botão Cancelar na janela de progresso.\nEssa opção geralmente é usada após um ajuste de feixe bem-sucedido. Após um ajuste de feixe, os parâmetros da câmera apresentam melhor qualidade e é provável que mais pontos de objeto possam ser medidos automaticamente. O procedimento geral consiste em excluir as medições excluídas pelo ajuste de feixe e, em seguida, executar esse processo para medir automaticamente quaisquer pontos de objeto não medidos. O ajuste de feixe pode então ser recalculado (consulte mais detalhes em Calculando o ajuste).\nObserve que esse processo tentará encontrar (em cada imagem) apenas os pontos de objeto que atualmente não possuem medição. Se um ponto já estiver medido, a medição atual do ponto será mantida sem alterações.\n\n\n4.9.13 Intersecção de todos os pontos\nO comando de menu Medição | Intersecção de todos os pontos utiliza as posições e orientações atuais da câmera para todas as imagens e intersecta todas as medições da imagem para calcular as coordenadas do objeto. Essa funcionalidade é usada para estimar as coordenadas do espaço do objeto para pontos recém-medidos.\nAo realizar ajustes de feixe com cubos de calibração, essa opção não é utilizada.\n\n\n4.9.14 Excluir medições de pontos rejeitadas\nO comando de menu Medição | Excluir medições de pontos rejeitadas excluirá todas as medições de pontos que foram marcadas como rejeitadas (as medições de pontos podem ser rejeitadas por ressecções, intersecções ou ajuste de feixe; consulte Cores de pontos, Valores para rejeição de medição). Essa função é normalmente usada após um ajuste de feixe para excluir todas as medições de pontos rejeitadas.\nQuarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "index.html#ajuste-1",
    "href": "index.html#ajuste-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.10 Ajuste",
    "text": "4.10 Ajuste\n\nAdjustment\n\nEsta seção trata dos comandos de menu disponíveis no menu Adjustment. Esses comandos são usados para configurar e executar um ajuste do fardo das imagens (bundle adjustment). Antes de calcular um ajuste de fardo, é necessário realizar a resseção de todas as imagens, ver Section 4.9.1, e medir a maioria dos alvos na maioria das imagens (preferencialmente, todos os alvos visíveis em todas as imagens).\n\n4.10.1 Critérios de convergência\n\nConvergence criteria\n\nDurante o ajuste do fardo, os parâmetros (coordenadas dos pontos do objeto, posições e orientações da câmera e parâmetros de calibração da câmera) convergem para um valor final. O grau de convergência pode ser ajustado com precisão, se necessário. Consulte também Section 4.10.3.\n\n4.10.1.1 Object points\n\nPontos do objeto\n\nPara ajustar os critérios de convergência dos pontos do objeto, use o comando de menu Adjustment | Object point convergence criteria. Uma janela será exibida, permitindo o ajuste dos critérios de convergência. Esse valor geralmente pode ser definido como 1/1000 das unidades do espaço do objeto, por exemplo, 1 mícron se as unidades do espaço do objeto forem milímetros.1\n\n\n4.10.1.2 Camera positions and orientations\n\nPosições e orientações da câmera\n\nPara ajustar os critérios de convergência da posição e orientação da câmera, use o comando de menu Adjustment | Camera position and orientation convergence criteria. Uma janela será exibida, permitindo o ajuste dos critérios de convergência. Há dois valores: um para as orientações da câmera em unidades de segundos de arco e outro para a posição da câmera. As unidades para a posição da câmera serão em unidades do espaço do objeto x 1000. Os valores padrão são 1 segundo de arco para orientação e 1/1000 das unidades do espaço do objeto para posição (por exemplo, 1 mícron se as unidades do espaço do objeto forem milímetros).\n\n\n4.10.1.3 Camera parameters\n\nParâmetros da câmera\n\nOs critérios de convergência para os parâmetros da câmera podem ser definidos usando o comando de menu Adjustment | Camera convergence criteria. Cada um dos parâmetros da câmera (consulte Section 4.5.2) possui seus próprios critérios de convergência. A tabela a seguir fornece os valores padrão para os critérios de convergência da câmera.\n\n\n\n4.10.2 Ajustes de configuração\n\nAdjustment settings\n\n\n\n4.10.3 Cálculo do Ajuste\n\nComputing the adjustment\n\nApós todas as imagens serem ressecadas e os alvos medidos em todas elas, o ajuste de feixe pode ser calculado. Para executar o ajuste de feixe, use o comando de menu Ajuste | Calcular ajuste de feixe na janela principal do CAL. Uma janela de progresso é exibida com um botão Cancelar. O ajuste pode ser cancelado a qualquer momento clicando no botão Cancelar (o processo não será cancelado até que a iteração atual seja calculada). A janela exibe informações sobre o progresso do ajuste (o número da iteração) e o sigma zero (que indica a qualidade do ajuste e idealmente deve estar próximo de 1). O ajuste primeiro calcula uma solução inicial, seguida por uma série de soluções de reponderação, onde as medições de baixa qualidade são removidas automaticamente do ajuste. Finalmente, as precisões e correlações dos parâmetros são calculadas.\nNesta etapa, haverá um ajuste convergido com sucesso ou um ajuste que não convergiu. Uma nova janela será exibida. Essa janela contém duas caixas de listagem: a caixa de listagem superior exibe um resumo do ajuste em texto, e a caixa de listagem inferior exibe detalhes sobre o ajuste.\nUma caixa de mensagem pode ser exibida com avisos sobre medições de distância excluídas e/ou baixa precisão relativa. Os avisos são baseados em cenários típicos de calibração de câmeras estéreo usando o hardware de calibração SeaGIS. Nesses casos, o ajuste final do feixe não deve apresentar medições de distância excluídas, e há expectativas em relação à precisão relativa. Veja detalhes nos tópicos a seguir. Ignore o aviso se ele não se aplicar especificamente ao seu uso do CAL.\nConsiderando o resumo do ajuste, a primeira linha indicará se o ajuste convergiu com sucesso ou se houve falha. Outras informações fornecidas serão:\n\nIndica se as observações da imagem foram reponderadas para obter um sigma zero de 1 (consulte Precisão da medição da imagem) e se a reponderação foi bem-sucedida. O valor de sigma zero é fornecido, assim como a nova estimativa da precisão da medição da imagem.\n\n\n\nIndica se algum aspecto do processo de ajuste falhou e, em caso afirmativo, fornece uma indicação do que deu errado. Isso pode incluir falha na convergência dentro do número máximo de iterações (consulte Ajuste) ou falha na resolução das equações normais (isso geralmente indica que não foram medidos pontos de objeto suficientes em imagens suficientes ou pode ser causado por restrições de pontos de objeto sem sentido).\n\n\n\nO resíduo médio da imagem (geralmente deve ser sempre menor que 0,3 pixels).\n\n\n\nO número total de parâmetros do modelo de ajuste, parâmetros restritos e redundâncias. O número de redundâncias para uma calibração de câmera estéreo geralmente será da ordem de 5.000.\n\n\n\nO número de medições de imagem e distância elegíveis e excluídas, e restrições de pontos de objeto. As medições excluídas não atenderam aos parâmetros definidos em Valores para rejeição de medição. Após um ajuste inicial, pode haver muitas medições de imagem elegíveis excluídas. Isso é normal. Ao usar o hardware de calibração do SeaGIS (um cubo), não deve haver nenhuma medição de distância elegível excluída – isso pode indicar: um cubo montado incorretamente, um cubo danificado ou localizações de pontos de ressecção medidas incorretamente.\n\n\n\nAvisos se houver pontos no espaço do objeto que não possuem coordenadas estimadas. Isso ocorrerá se novos pontos do objeto forem adicionados sem estimativas de coordenadas (isso nunca deve acontecer com projetos de cubo de calibração). Use a interseção para estimar as coordenadas (consulte Interseccionar todos os pontos).\n\n\n\nAvisos se houver distâncias medidas para pontos do objeto que não existem ou para pontos do objeto que não possuem coordenadas estimadas.\n\n\n\nAvisos se houver posições de câmera não selecionadas (consulte Medição de ponto).\n\n\n\nAvisos se houver medições de imagem feitas para pontos de objeto que não existem ou para pontos de objeto que não possuem uma coordenada estimada.\n\n\n\nAvisos se houver medições associadas a uma câmera que não faz parte de um projeto (pode ocorrer se uma câmera for excluída de um projeto existente, mas ainda houver medições associadas à câmera excluída).\n\n\n\nAvisos se forem usadas restrições estéreo e as restrições não tiverem sido estimadas ou envolverem posições de câmera inválidas ou não estimadas (consulte Restrições estéreo).\n\n\n\nA precisão relativa (consulte View object point summary). Para a calibração estéreo de um sistema de câmera de alta definição usando o hardware de calibração do SeaGIS (um cubo), esse valor deve ser em torno de 1:10.000 ou melhor. A precisão relativa pode ser prejudicada por: baixa visibilidade, iluminação inadequada (baixo contraste do alvo), imagens desfocadas, número insuficiente de pontos medidos ou cubo muito distante das câmeras.\n\nSe o ajuste não convergir, os parâmetros que não estão convergindo serão relatados. A não convergência geralmente está associada a uma geometria de rede inadequada ou a um número insuficiente de medições em imagens suficientemente diferentes (isso nunca deve ocorrer com redes de calibração que envolvem cubos de calibração, como no Apêndice A - Orientações do cubo de calibração). Para forçar a convergência do ajuste, os critérios de convergência para os parâmetros que estão falhando podem ser ajustados para forçar a rede a convergir (consulte Critérios de convergência) ou o número máximo de iterações para o ajuste do feixe pode ser aumentado temporariamente (consulte Ajuste).\nA caixa de listagem Detalhes fornece informações mais detalhadas sobre os resultados do ajuste. Todos os itens listados podem ser visualizados com mais detalhes clicando duas vezes sobre o item. As seguintes informações são fornecidas:\n\nParâmetros da câmera: Para cada câmera, um resumo dos parâmetros da câmera. Essas informações são as mesmas exibidas em Edição de parâmetros da câmera. Certifique-se de que a distância focal esteja correta. Todos os outros parâmetros devem ter uma magnitude pequena – parâmetros com grande magnitude indicam um problema.\n\n\n\nResumo dos pontos do objeto. Essas informações são as mesmas exibidas em Visualização do resumo dos pontos do objeto. Verifique se a precisão relativa está correta. O número de pontos não estimados deve ser 0. O intervalo entre os desvios padrão máximo e mínimo dos pontos deve ser pequeno. Se o desvio padrão máximo dos pontos for muito grande, isso indica que alguns pontos do objeto não foram medidos o suficiente para estimar as coordenadas com precisão. Esses pontos devem ser identificados e mais medições de imagem devem ser feitas nesses pontos.\n\n\n\nCoordenadas/precisões dos pontos do objeto. Essas informações são as mesmas exibidas em Viewing and manipulating object space points (Visualização e manipulação de pontos no espaço do objeto). Nesta janela, identifique os pontos que apresentam desvios padrão maiores que a média (sX, sY, sZ). Geralmente, eles terão um número menor de medições (Nº de Obs.) em comparação com outros pontos. É necessário realizar mais medições de imagem nesses pontos. Verifique rapidamente se as coordenadas dos pontos do objeto estão dentro do intervalo esperado.\n\n\n\nOrientação e posições da câmera (e observações da imagem). Essas informações são as mesmas exibidas em Dados de orientação da imagem. Nesta janela, examine todas as posições e orientações da câmera e certifique-se de que os valores sejam razoáveis ​​(observe especialmente as posições da câmera que não se encaixam). Observe a precisão das posições da câmera (sX, sY, sZ) e das orientações (sOmega, sPhi, sKappa), bem como o número de medições em cada imagem (Nº de obs.). Esses valores devem ter magnitude semelhante em todas as imagens. Se uma imagem apresentar um desempenho particularmente pior, pode ser porque ela não possui medições suficientes dos pontos do objeto ou porque a qualidade da imagem pode ser inferior. Você também pode examinar as medições e os resíduos de uma imagem específica clicando duas vezes nela, embora o Resumo de resíduos da imagem abaixo possa ser mais útil.\n\n\n\nResumo de resíduos da imagem. Estas são as mesmas informações descritas em Resumo de medições da imagem. Analise os resíduos médios da imagem e identifique quaisquer imagens que apresentem uma média visivelmente maior do que as demais. Investigue as medições e/ou a qualidade da imagem associadas a essas imagens. Frequentemente, uma imagem com uma média alta pode ter pontos de ressecção mal identificados ou medições feitas em alvos mal identificados. Nesses casos, é prudente excluir todas as medições da imagem com uma média alta e medi-la novamente. Uma média alta também pode ser causada por baixa qualidade da imagem (geralmente desfoque de movimento).\n\n\n\nTodas as medições da imagem. Estas são as mesmas informações exibidas em Visualizar/excluir medições da imagem. Classifique os dados nesta janela clicando duas vezes na coluna Rejeitadas para trazer todas as medições rejeitadas para o topo. Observe se as medições rejeitadas tendem a estar associadas a um ou mais pontos do objeto. Nesse caso, investigue todas as medições até o(s) ponto(s) específico(s) do objeto, pois a medição pode ter sido feita no ponto errado.\n\n\n\nMedições de distância. Esta opção só será exibida se houver medições de distância. As informações são as mesmas exibidas em Visualizando e manipulando distâncias. Verifique se alguma distância está sendo excluída (isso não deve acontecer com um cubo de calibração e indica que o cubo ou os alvos nele contidos podem ter sido danificados fisicamente).\n\n\n\nVisualizar correlações. Clicar duas vezes neste item abre outra janela que permite visualizar as correlações entre os parâmetros. Insira o coeficiente de correlação desejado; quaisquer parâmetros acima do coeficiente de correlação especificado serão relatados. Você pode optar por incluir ou excluir os parâmetros de posição e orientação (orientação externa) da câmera, conforme necessário. Após a configuração, clique no botão Fechar caixa de diálogo e uma nova janela será exibida mostrando quaisquer parâmetros correlacionados. Se a janela estiver vazia, não havia parâmetros acima dos limites prescritos.\n\n\n\nRestrições estéreo e resíduos. Esses dados só aparecerão se você usar restrições estéreo no ajuste de feixe (consulte Restrições estéreo). As informações e a interpretação são as mesmas que em Visualizando as restrições. Se muitos dos componentes de restrição estéreo estiverem sendo excluídos, a ponderação da restrição pode precisar ser relaxada (consulte Restrições estéreo).\n\n\n\n Restrições estéreo – orientação relativa. Esses dados só aparecerão se você usar restrições estéreo no ajuste de feixe (consulte Restrições estéreo). As informações e a interpretação são as mesmas que em Visualizando a orientação relativa.\n\nSe o ajuste for bem-sucedido, o botão Aceitar na parte inferior da janela será habilitado. Após avaliar os resultados do ajuste e certificar-se de que o resultado é válido, clique no botão Aceitar para adotar o resultado do ajuste de feixe. Ao clicar no botão Aceitar, os parâmetros da câmera, as coordenadas dos pontos do objeto e as posições e orientações da câmera são atualizados com os resultados calculados no ajuste de feixe. Se o ajuste falhar ou o resultado não for satisfatório, clique no botão Cancelar para ignorar os resultados do ajuste. Nunca aceite os resultados de um ajuste de feixe questionável.\nApós concluir um ajuste de feixe bem-sucedido, é recomendável excluir as medições de imagem que foram excluídas pelo ajuste (consulte Excluir medições de pontos rejeitadas).\nSe houver muitos pontos do objeto que não foram medidos com sucesso (como geralmente ocorre quando não há informações de calibração anteriores para uma câmera), esses pontos agora devem ser medidos automaticamente com sucesso. Assim que o ajuste de feixe for calculado com sucesso, haverá parâmetros de calibração da câmera melhores, permitindo que os alvos não medidos sejam medidos automaticamente. O procedimento para medição automática de todas as imagens do projeto é descrito em Encontrar alvos em todas as imagens. Após a medição de mais alvos, o ajuste do feixe pode ser recalculado. Observe que nunca será possível medir todos os alvos em todas as imagens, pois alguns alvos inevitavelmente estarão ocluídos.\n\n\n4.10.4 Razões pelas quais um ajuste de feixe pode falhar\nÀs vezes, o ajuste de feixe pode falhar, e pode ser difícil identificar exatamente por que isso está acontecendo. A seguir estão algumas razões e soluções comuns:\n\nO ajuste pode não convergir devido a uma ou duas medições realmente ruins. Se for possível forçar o ajuste a convergir ao menos uma vez, essas medições problemáticas serão identificadas e removidas.\n\nAjuste o máximo de interações usando o Ajustment | Ajustment settings e ponha o Maximum iterations em 500.\n\nMedições insuficientes para pontos suficientes. Às vezes, há uma tendência de calcular o ajuste de feixe antes de realizar medições suficientes em um número adequado de pontos do objeto e em imagens suficientes. Quando isso ocorre, o ajuste de feixe pode falhar completamente ou não convergir. Nesse caso, é simplesmente necessário realizar mais medições. O ajuste de feixe depende de redundância (muitas medições) para detectar e eliminar de forma confiável medições errôneas. Se não houver medições suficientes, a detecção correta dessas medições incorretas torna-se difícil e pode levar à falha do ajuste de feixe.\n\nNão se preocupe em calcular o ajuste de feixe até que toda a sequência de calibração tenha sido medida (ver Apêndice A — Orientações do cubo de calibração). Se o processo de centroiding não estiver encontrando muitos pontos, tente ajustar o brilho e o contraste da imagem para realçar os alvos (Brightness and contrast). Também pode ser necessário ajustar a configuração de centróide “Minimum Pixel Intensity Range”, reduzindo esse valor (Editing and fine tuning settings).\n\nUm ajuste pode falhar se pontos medidos tiverem sido atribuídos a um ID de ponto incorreto. Se um ponto for medido de forma consistente e receber um ID incorreto em muitas imagens, isso causará confusão no ajuste de feixe (ou seja, o ajuste de feixe não conseguirá identificar com precisão que o ponto incorreto foi medido). Isso pode se tornar um problema sério se os pontos iniciais de resseção forem identificados incorretamente, pois, nesse caso, todos os demais pontos do objeto medidos automaticamente na imagem provavelmente também serão identificados de forma incorreta.\n\nPercorra todas as imagens e verifique cuidadosamente se os pontos de resseção estão corretamente identificados em cada imagem. Se você encontrar uma imagem com pontos de resseção medidos incorretamente, a forma mais simples é excluir a imagem e medi-la novamente.\n\nSe você estiver tendo dificuldades com um ajuste de feixe, especialmente se tiver aceitado os resultados de um ajuste ruim, é recomendável recarregar o arquivo original de pontos do objeto (uma versão “limpa” do arquivo, e não aquela criada pelo ajuste que está causando problemas; ver Reading the object point file).\n\nApós recarregar uma versão “limpa” do arquivo de pontos do objeto, utilize o comando de menu Measurement | Resect all images e, em seguida, calcule novamente o ajuste de feixe.\nSe isso não for bem-sucedido, recarregue uma versão limpa do arquivo de pontos do objeto usando Object points | Read from file. Exclua todas as medições, exceto os pontos de resseção: Measurement | View/delete image measurements, ordene pela coluna Point ID e apague todas as medições de pontos, mantendo apenas os pontos de resseção (nos cubos SeaGIS, estes correspondem aos pontos 100, 101, 102, 103 e 104).\nEm seguida, faça a resseção de todas as imagens com Measurement | Resect all images, depois localize os alvos com Measurement | Find targets in all images e, por fim, recalcule o ajuste de feixe\n\nQuando um ajuste não converge, examine o relatório resumo dos resíduos de imagem na janela Adjustment results. Observe os campos Valid points e Average magnitude.\n\nInvestigue qualquer imagem que apresente um Average magnitude mais alto do que o habitual (qualquer valor superior a três vezes a média) e qualquer imagem que tenha um número de Valid points inferior ao esperado (menos da metade dos alvos medidos). Em geral, a maneira mais simples é excluir essas imagens e medi-las novamente.\nVeja também a seção a seguir.\n\n\n4.10.5 Falha de ajustes com um cubo de calibração SeaGIS\nFrequentemente, a razão para a falha de um ajuste de feixe está relacionada a estimativas inadequadas dos parâmetros da câmera, o que resulta em medições automáticas de imagem de baixa qualidade. Quando se dispõem de boas estimativas dos parâmetros da câmera (obtidas a partir de calibrações anteriores), geralmente não há problemas na execução do ajuste. Quando o ajuste falha ao utilizar um cubo de calibração de duas faces, uma estratégia útil é realizar a calibração usando apenas a face frontal do cubo. Isso fornece boas estimativas dos parâmetros da câmera, permitindo que, posteriormente, seja calculada uma calibração utilizando ambas as faces do cubo.\nPara chegar ao ponto em que o ajuste de feixe está falhando, presume-se que você já tenha realizado um conjunto de medições no material de calibração. As instruções abaixo assumem que um projeto já foi criado e que existe um conjunto completo de medições:\n\nSalve uma cópia das medições realizadas até o momento usando Measurement | Write measurement file. Nomeie o arquivo como “Complete”, ou algo similar, para indicar que se trata do conjunto original completo de medições.\nCarregue uma cópia original “limpa” do arquivo do cubo de calibração (.PtsCAL) usando Object points | Read from file.\nExclua as medições referentes aos pontos da face traseira do cubo usando Measurement | Delete back face measurements.\nRealize a resseção de todas as imagens usando Measurement | Resect all images.\nCalcule o ajuste de feixe em Adjustment | Compute bundle adjustment.\nSupondo que o ajuste de feixe seja bem-sucedido, exclua as medições de pontos rejeitadas usando Measurement | Delete rejected point measurements.\nReintroduza a face traseira do cubo utilizando Measurement | Find targets in all images.\nExecute um novo ajuste de feixe (agora utilizando os pontos medidos nas faces frontal e traseira do cubo) e prossiga da forma habitual após a conclusão bem-sucedida do ajuste de feixe."
  },
  {
    "objectID": "index.html#footnotes",
    "href": "index.html#footnotes",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nPortanto, 10 mícrons se a unidade de espaço do objeto for em centímetros (1 cm = 10000 mícrons).↩︎\nPortanto, 10 mícrons se a unidade de espaço do objeto for em centímetros (1 cm = 10000 mícrons).↩︎"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Oiii"
  },
  {
    "objectID": "index.html#general",
    "href": "index.html#general",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.2 General",
    "text": "4.2 General"
  },
  {
    "objectID": "index.html#installation-details",
    "href": "index.html#installation-details",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.3 Installation details",
    "text": "4.3 Installation details"
  },
  {
    "objectID": "index.html#pictures",
    "href": "index.html#pictures",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.6 Pictures",
    "text": "4.6 Pictures"
  },
  {
    "objectID": "index.html#images-and-orientations",
    "href": "index.html#images-and-orientations",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.7 Images and orientations",
    "text": "4.7 Images and orientations"
  },
  {
    "objectID": "index.html#object-points-and-distances",
    "href": "index.html#object-points-and-distances",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "4.8 Object points and distances",
    "text": "4.8 Object points and distances"
  },
  {
    "objectID": "index.html#quick-guide-1",
    "href": "index.html#quick-guide-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.1 Quick Guide",
    "text": "9.1 Quick Guide\n\nGuia Rápido\n\nUtilize este guia para percorrer, passo a passo, o processo de calibração de um sistema de câmeras estéreo. Após capturar e transferir as imagens de um cubo de calibração, siga as etapas descritas a seguir.\nEste guia pressupõe que você já possui arquivos de câmera (.CamCAL) para iniciar a calibração. Caso isso não seja verdade, consulte a página de download do software (aqui) para encontrar arquivos de câmera comumente utilizados, entre em contato conosco para obter assistência ou consulte a seção Section 4.5 para criar os arquivos necessários.\n\n\n\n\n\n\nÉ importante iniciar com arquivos de câmera que você saiba que estão corretos.\n\n\n\n\n9.1.1 Organize the data\n\nOrganize os dados\n\n\nUsando o Explorador de Arquivos do Windows, crie um novo diretório (pasta) para o projeto.\nCopie todos os arquivos de imagem associados à calibração para o novo diretório (nova pasta). Normalmente, serão dois arquivos de vídeo: um da câmera esquerda e outro da câmera direita.\nCopie para esse diretório o arquivo de pontos do objeto (.PtsCAL) do cubo de calibração. Esse arquivo deve ser sempre uma cópia limpa do arquivo original.\nCopie para esse diretório os arquivos da câmera esquerda e direita (.CamCAL). Esses arquivos geralmente são provenientes da calibração anterior mais recente.\n\n\n\n9.1.2 Create a new project\n\nCrie um novo projeto\n\n\nNo CAL, crie um novo projeto usando Project | New project. Se necessário, você será solicitado a salvar quaisquer dados não salvos associados ao projeto atual. Insira um nome para o arquivo do projeto (por exemplo, “Calibration”) e salve o arquivo do projeto no novo diretório que você acabou de criar para este projeto.\nA criação de um novo projeto inicia um processo de assistente (wizard process) que solicita a configuração do restante do projeto. Basta seguir as instruções, lembrando que todos os arquivos estão localizados no mesmo diretório, e que o CAL usará, por padrão, o diretório onde o novo arquivo de projeto foi criado.\nCarregue os arquivos da câmera esquerda e direita (.CamCAL), conforme solicitado.\nCarregue o arquivo do cubo de calibração (.PtsCAL), conforme solicitado.\nDefina o diretório de imagens conforme solicitado. O diretório de imagens é automaticamente definido como o mesmo diretório do arquivo do projeto; portanto, se todos os arquivos da calibração estiverem em um único diretório, basta verificar e clicar em OK.\nSalve o novo arquivo de medições conforme solicitado. Será necessário atribuir um nome a esse arquivo (por exemplo, “Measurements”), e ele será o local onde as medições da calibração serão armazenadas.\nCarregue a imagem da câmera esquerda. Normalmente, esse será o arquivo de vídeo da câmera esquerda, e ele será automaticamente adicionado à configuração da sequência de filmes (Movie sequence) da câmera esquerda. Caso existam mais arquivos de vídeo na sequência, eles podem ser adicionados nesse momento (ver Sequências de filmes). Em seguida, clique em OK.\nCarregue a imagem da câmera direita. Normalmente, esse será o arquivo de vídeo da câmera direita, e ele será automaticamente adicionado à configuração da sequência de filmes da câmera direita. Caso existam mais arquivos de vídeo na sequência, eles podem ser adicionados nesse momento (ver Sequências de filmes). Em seguida, clique em OK.\nA janela Current project files (Arquivos do projeto atual) será exibida. Todos os campos devem estar preenchidos, e todos os itens listados devem estar no mesmo diretório. Clique em Close dialog (Fechar diálogo).\n\n\n\n\n\n\n\nNote\n\n\n\nSe houver dificuldades para chegar a esse ponto, consulte Creating new projects and data organization(), que fornece mais detalhes ou mostra como configurar o projeto manualmente.\n\n\n\n\n9.1.3 Medições\n\n\n9.1.4 Ajuste\n\nApós concluir todas as medições de imagem, calcule o ajuste de feixe usando Ajuste | Calcular ajuste de feixe.\nSe você receber uma mensagem de aviso sobre medições de distância excluídas ou baixa precisão relativa, ignore-a por enquanto. Se o ajuste falhar, consulte os motivos pelos quais um ajuste de feixe pode falhar. Se ainda estiver com dificuldades para obter resultados que não convergem, tente uma solução apenas com a face frontal, descrita em Ajustes com falha em um cubo de calibração SeaGIS.\nQuando o ajuste for bem-sucedido, siga os passos abaixo para produzir um conjunto “limpo” de medições de imagem, sem rejeições:\n\ni. Aceite os resultados do ajuste (usando o botão Aceitar resultados).\nii. Exclua as medições rejeitadas usando Medição | Excluir medições de ponto rejeitadas.\niii. Procure por alvos ausentes usando Medição | Encontrar alvos em todas as imagens.\niv. Calcule outro ajuste de feixe (Ajuste | Calcular ajuste de feixe) e aceite os resultados.\nv. Exclua as medições rejeitadas usando Medição | Excluir medições de ponto rejeitadas.\nvi. Calcule um ajuste de feixe final (Ajuste | Calcular ajuste de feixe). Neste ponto, você deverá ter um ajuste de feixe correto. Verifique o seguinte no resumo de Ajuste (uma mensagem de aviso alertará sobre possíveis problemas de medição de distância e precisão relativa). Você deverá ter zero Eligible image measurements excluídas e zero Eligible distance measurements excluídas. Medições de distância excluídas podem ser causadas por um cubo montado incorretamente, cubo danificado ou medição de locais de pontos de ressecção incorretos – este problema deve ser corrigido. Verifique se o valor de precisão relativa está de acordo com o esperado para o seu sistema de câmera e método de calibração. O CAL possui alguns avisos integrados com base em cenários típicos de calibração: geralmente melhor que 1:10.000 para uma calibração estéreo de um sistema de câmera de alta definição usando o hardware de calibração SeaGIS. Valores mais baixos podem ser causados ​​por baixa visibilidade, imagens desfocadas, iluminação inadequada (baixo contraste do alvo), número insuficiente de pontos medidos ou cubo muito distante das câmeras. Clique em Aceitar resultados.\n\n\nObserve que o ajuste do feixe precisa ter qualidade aceitável antes de prosseguir.\n\n\n9.1.5 Geração de arquivos de câmera estéreo\nNote, todas as operações de menu mencionadas nesta seção estão em Measurement | Stereo constraints.\n\nConfigure as restrições estéreo usando Configure stereo constraints . Nesta caixa de diálogo, geralmente basta garantir que a câmera esquerda e a câmera direita estejam selecionadas corretamente e, em seguida, clicar no botão *Automatic* para gerar os pares esquerda/direita. Você receberá uma mensagem de erro se houver um número diferente de imagens esquerda e direita medidas, pois o software não consegue criar pares estéreo – você precisará encontrar e corrigir a imagem esquerda/direita que não possui uma imagem direita/esquerda correspondente (consulte Configurando restrições).\nEstime as restrições usando *Estimating constraints* (consulte Estimando restrições). Um aviso será exibido se mais de quatro pares estéreo forem excluídos (consulte os comentários na próxima etapa).\nVerifique a orientação relativa usando View stereo constraints. Verifique se os resíduos de restrição são aceitáveis ​​e se não houve muitas restrições que foram excluídas do cálculo (coluna Exclusions). Se mais de quatro restrições forem rejeitadas, verifique novamente a sincronização estéreo. Para mais detalhes, consulte Visualizando as restrições.\nGere os arquivos da câmera estéreo usando Exportar arquivos da câmera estéreo (consulte Exportando arquivos da câmera estéreo).\n\n\n\n9.1.6 Salvando resultados\nA maneira mais simples de salvar o projeto e todos os dados associados é fechar o CAL. O programa solicitará que você salve todos os dados não salvos.\n\n\n9.1.7 Carregando calibrações anteriores\nCalibrações anteriores podem ser carregadas clicando duas vezes em um arquivo de projeto CAL (.PrjCAL) no Explorador de Arquivos do Windows ou usando o menu CAL &gt; Projeto | Ler do arquivo.\nSe arquivos (como arquivos de câmera, arquivo de pontos do objeto ou arquivo de medição) originalmente associados ao projeto tiverem sido movidos para uma unidade e/ou pasta diferente, o projeto será corrompido e você precisará recriá-lo manualmente, localizando e carregando os arquivos necessários. Consulte Recriando um projeto de calibração a partir de dados existentes."
  },
  {
    "objectID": "index.html#general-1",
    "href": "index.html#general-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.2 General",
    "text": "9.2 General"
  },
  {
    "objectID": "index.html#installation-details-1",
    "href": "index.html#installation-details-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.3 Installation details",
    "text": "9.3 Installation details"
  },
  {
    "objectID": "index.html#project-files-1",
    "href": "index.html#project-files-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.4 Project files",
    "text": "9.4 Project files\nReading and writing to file"
  },
  {
    "objectID": "index.html#cameras",
    "href": "index.html#cameras",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.5 Cameras",
    "text": "9.5 Cameras\n\nCâmeras\n\nO acesso às informações da câmera e às operações específicas da câmera é feito por meio do menu Camera.\nAs informações da câmera são armazenadas em um arquivo (um arquivo separado para cada câmera). Os nomes dos arquivos de câmera atuais são armazenados no arquivo do projeto e são carregados automaticamente quando o CAL é iniciado. Observe que esses arquivos de câmera possuem a extensão .CamCAL. Esses arquivos são diferentes dos arquivos de câmera estéreo (com extensão .Cam), que o CAL exporta para uso em softwares de medição estéreo, como o EventMeasure ou o StereoLib.\n\n9.5.1 Reading and writing to file\n\nLeitura e gravação em arquivo\n\nAs informações da câmera podem ser gravadas em um arquivo ou lidas a partir de um arquivo. Para ler ou gravar um arquivo de câmera, utilize o comando de menu Camera | Left | Read from file ou Camera | Left | Write to file. Comandos idênticos estão disponíveis para a câmera direita.\nSe uma nova câmera for lida a partir de um arquivo ou salva em um arquivo com um nome diferente, essa alteração será atualizada no arquivo de projeto atual.\n\n\n9.5.2 Editing camera parameters\n\nEdição de parâmetros da câmera\n\nPara visualizar ou editar os parâmetros de uma câmera, utilize o comando de menu Camera | Left | Edit parameters (ou Camera | Right | Edit parameters para a câmera direita). Será exibida uma janela com os seguintes itens:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nItens com um visto verde ao lado podem ser editados dando um duplo clique no item e digitando um novo valor. Os itens na coluna Units indicam as unidades do parâmetro. Os valores na coluna Precision podem ser “Fixed parameter” (parâmetro fixo) ou um valor numérico. A ausência de valor indica que o parâmetro da câmera ainda não foi estimado por um ajuste de feixe; já um valor numérico indica que o parâmetro foi estimado pelo ajuste de feixe, e esse valor corresponde à precisão do parâmetro.\nOs parâmetros X Pixel size e Y Pixel size são propriedades da câmera e, em geral, podem ser encontrados no site do fabricante ou em uma ficha técnica ou folha de especificações da câmera. Frequentemente, o tamanho do pixel precisa ser derivado a partir do tamanho do sensor da câmera e do formato da imagem. Normalmente, o fabricante informa esses valores em unidades de micrômetros. Certifique-se de converter os valores para milímetros (mm) ao inseri-los como parâmetros da câmera.\nPara calibrações de câmera subaquáticas utilizando uma porta plana do invólucro da câmera, o valor da distância focal em água será aproximadamente 4/3 do valor no ar (por exemplo, uma lente com distância focal de 4,8 mm no ar terá aproximadamente 6,4 mm na água). Certifique-se de considerar o efeito de quaisquer adaptadores de lente grande-angular.\nQuando uma nova câmera estiver sendo calibrada (isto é, não existe um arquivo .CamCAL prévio), será necessário especificar: Image rows, Image columns, X Pixel size, Y Pixel size, e estimar a Focal length. Todos os demais parâmetros da câmera podem ser inicialmente estimados como zero, tendo seus valores determinados durante o processo de calibração.\n\n\n9.5.3 Fixing camera parameters"
  },
  {
    "objectID": "index.html#pictures-1",
    "href": "index.html#pictures-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.6 Pictures",
    "text": "9.6 Pictures"
  },
  {
    "objectID": "index.html#images-and-orientations-1",
    "href": "index.html#images-and-orientations-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.7 Images and orientations",
    "text": "9.7 Images and orientations"
  },
  {
    "objectID": "index.html#object-points-and-distances-1",
    "href": "index.html#object-points-and-distances-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.8 Object points and distances",
    "text": "9.8 Object points and distances"
  },
  {
    "objectID": "index.html#measurement-1",
    "href": "index.html#measurement-1",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.9 Measurement",
    "text": "9.9 Measurement\n\nMedições\n\nEsta seção aborda o processo de realização de medições de pontos, bem como descreve o uso dos itens do menu Measurement.\n\n9.9.1 Pontos de Medida\nPoint measurement\n\n\n9.9.2 Salvando e lendo as medidas\nSaving and reading measurements\n\n\n9.9.3 Convertendo vídeos para JPEG\n\nConvert movie to JPEG\n\n\n\n9.9.4 Frames deslocados\nOffset frames\n\n\n9.9.5 Visualizar dados de orientação\nView orientation data\n\n\n9.9.6 Visualizar/ Excluir medições de imagem\nView/ delete image measurement\n\n\n9.9.7 Resumo das medições de imagem\nImage measurement summary\n\n\n9.9.8 Excluir medições da face posterior\n\nDelete back face measurement\n\nAo utilizar um cubo de calibração padrão da SeaGIS, é possível usar Measurement | Delete back face measurement para remover todas as medições de imagem associadas a pontos na face posterior do cubo. Essa função é uma ferramenta útil para lidar com ajustes de feixe (bundle adjustments) que não convergem; ver Section 4.10.5.\n\n\n9.9.9 Cálculo do centróide\nCentroiding\n\n\n9.9.10 Restrições Estereoscópicas\nStereo constraints\nEsta seção aborda as opções de menu disponíveis em Measurement | Stereo constraints. Essas operações são utilizadas para configurar restrições estereoscópicas e calcular a orientação relativa de um par de câmeras estereoscópicas (a orientação relativa descreve a posição e a orientação de uma câmera em relação à outra e é necessária para realizar medições com um sistema de câmeras estereoscópicas). Essas opções são fornecidas principalmente para gerar arquivos de câmera estereoscópica (extensão .cam) para uso com PhotoMeasure, EventMeasure e StereoLib.\nEm calibrações de câmeras estereoscópicas, a câmera 1 refere-se à câmera esquerda e a câmera 2 refere-se à câmera direita. O CAL mantém um sistema de numeração, em vez de utilizar os termos “Esquerda” e “Direita”, para facilitar calibrações genéricas em sistemas com mais de duas câmeras.\n\n9.9.10.1 Configuração das restrições\nConfigure constraints\nUse o comando de menu Configure stereo constraints para definir as restrições. Uma janela será exibida. O principal objetivo dessa janela é permitir a definição de pares estereoscópicos de imagens esquerda e direita, a partir dos quais a orientação relativa das câmeras pode ser determinada.\nSelecione a câmera esquerda (Left camera) e a câmera direita (Right camera) apropriadas usando as caixas de seleção. Na maioria dos casos, o restante da configuração pode ser realizado utilizando o botão Automatic. Ao clicar em Automatic, a lista de pareamentos será preenchida com combinações de nome do arquivo da esquerda (nº do frame, nº da câmera) e nome do arquivo da direita (nº do frame, nº da câmera). Verifique se os pareamentos representam pares estereoscópicos válidos; caso contrário, será necessário editar a lista manualmente. Observe que, em calibrações estereoscópicas padrão, a câmera 1 corresponde à câmera esquerda e a câmera 2 à câmera direita.\nPara excluir um pareamento, selecione-o e clique no botão Delete. Para adicionar um pareamento manualmente, selecione um Filename da câmera esquerda (nº do frame, nº da câmera) e um Filename da câmera direita (nº do frame, nº da câmera) e clique em Add. Se algum dos dados recém-adicionados já estiver presente na lista atual de pareamentos, ele será automaticamente removido e substituído pelo novo pareamento estereoscópico.\nClique em OK para aceitar a nova configuração ou em Cancel para ignorar as alterações.\n\n\n9.9.10.2 Estimar restrições\nEstimate constraints\nDepois que as restrições estiverem configuradas, a orientação relativa pode ser estimada. Utilize o comando de menu Estimate constraints. Uma janela será exibida mostrando a orientação relativa calculada. Os detalhes dessa janela são explicados na seção Viewing the relative orientation.\nSe mais de quatro pares estereoscópicos apresentarem exclusões associadas, será exibida uma mensagem de aviso. A presença de mais de quatro pares estereoscópicos com exclusões indica possíveis problemas de sincronização estereoscópica ou, alternativamente, problemas no ajuste de feixe (ver Viewing the constraints {Section 4.9.10.3} abaixo).\n\n\n9.9.10.3 Visualização das restrições\nViewing the constraints\nDepois que as restrições estereoscópicas forem configuradas (ver Configuring constraints) e estimadas (ver Estimating constraints, ou estimadas durante um ajuste de feixe), a qualidade da estimativa pode ser avaliada usando o comando de menu View stereo constraints. Esse comando abre uma janela que exibe cada pareamento estereoscópico em uma linha, iniciando com o Filename da câmera esquerda e da câmera direita (número do frame, número da câmera).\nAs colunas seguintes apresentam os resíduos para Base, Delta omega, Left phi, Left kappa, Right phi e Right kappa. Os resíduos correspondem à diferença entre a orientação relativa de cada par estereoscópico esquerda/direita individual e a orientação relativa média calculada a partir de todos os pares estereoscópicos.\nA coluna final lista quaisquer componentes que tenham sido automaticamente excluídos do cálculo da orientação relativa com base em seus resíduos (ver Stereo constraints para a definição dos limiares dessas exclusões e para saber quando esses limiares podem precisar ser ajustados). A magnitude dos resíduos das restrições estereoscópicas depende, em grande parte, da qualidade da sincronização das câmeras estereoscópicas. Se uma das restrições apresentar muitos componentes excluídos, deve-se suspeitar que a sincronização estereoscópica desse pareamento esquerda/direita esteja incorreta. Isso frequentemente ocorre devido a movimento excessivo do sistema de câmeras e/ou da estrutura de calibração, em combinação com um pequeno erro de sincronização — possivelmente inferior a um frame — ou ainda devido a um erro na seleção do par estereoscópico durante a configuração das restrições (ver Configuring constraints).\nSe muitos dos pares estereoscópicos estiverem sendo excluídos e a sincronização e a configuração dos pares estiverem corretas, pode ser necessário aumentar os limiares de exclusão. Para isso, aumente os valores de Critical value for base rejection e/ou Critical value for orientation rejection em Stereo constraints, e então reestime as restrições conforme descrito em Estimating constraints. Sempre investigue a sincronização das imagens estereoscópicas e o pareamento das imagens como a principal causa das rejeições antes de ajustar esses limiares.\n\n\n\n\n\n\nNote\n\n\n\nÉ impossível obter uma sincronização consistentemente perfeita em sistemas de câmeras de vídeo estereoscópicas que dependem de sincronização visual. Nesses sistemas, o erro de sincronização pode chegar, no pior caso, a meio frame. Esse erro de sincronização, em combinação com o movimento do sistema de câmeras e/ou da estrutura de calibração, inevitavelmente resultará em exclusões nas restrições estereoscópicas. Em função desse erro de sincronização, é aceitável que até quatro pares estereoscópicos apresentem exclusões.\n\n\n\n\n9.9.10.4 Visualização da orientação relativa\nView relative orientation\nUtilize o comando de menu View relative orientation para visualizar os parâmetros atuais da orientação relativa. Uma janela será exibida. Nessa janela, a origem dos parâmetros(Parameter source) será indicada como Bundle adjustment se os parâmetros tiverem sido estimados no ajuste de feixe (ver Stereo constraints); caso contrário, será exibido Camera positions and orientations, o que significa que a orientação relativa foi derivada das posições e orientações atuais das câmeras. O número de restrições será igual ao número de restrições configuradas em Configuring constraints.\nA separação da base, Base separation (X), representa a separação física entre as câmeras. Em configurações estereoscópicas típicas, Delta omega, Left kappa e Right kappa tendem a ser próximos de zero, enquanto Left phi e Right phi representam o grau de convergência interna de cada câmera (embora esses valores também fiquem próximos de zero se as câmeras não convergirem). Cada parâmetro possui uma precisão associada ao seu cálculo.\n\n\n9.9.10.5 Exportando os arquivos de câmera estereoscópica\nExporting stereo camera files\nPara exportar arquivos de câmera estereoscópica, as restrições estereoscópicas devem estar configuradas (ver Configuring constraints), estimadas (ver Estimating constraints, ou estimadas durante um ajuste de feixe) e os resultados verificados (ver Viewing the constraints). Em seguida, os arquivos de câmera estereoscópica podem ser criados usando o comando de menu Export stereo camera files.\nSe as restrições não tiverem sido configuradas ou estimadas, será exibida uma mensagem de erro. Inicialmente, os parâmetros da câmera esquerda serão mostrados em uma janela. Clique no botão Close da caixa de diálogo e uma mensagem solicitará que você salve os parâmetros da câmera esquerda. Clique em Yes, e uma janela padrão do Windows será exibida, permitindo selecionar o nome do arquivo de câmera estereoscópica para a câmera esquerda.\nApós o salvamento do arquivo da câmera esquerda, uma nova janela será exibida com os parâmetros da câmera direita. Clique no botão Close da caixa de diálogo, e uma mensagem solicitará que você salve os parâmetros da câmera direita. Clique em Yes para abrir a janela do Windows, na qual será possível selecionar o nome do arquivo da câmera direita.\n\n\n\n9.9.11 Ressecção de todas as imagens\nO comando de menu Medição | Ressecção de todas as imagens na janela principal do CAL calcula uma ressecção em todas as imagens associadas ao projeto atual. Ao término do processo de ressecção, uma janela com um relatório resumido é exibida. A janela lista todas as imagens envolvidas na operação de ressecção, se a ressecção foi bem-sucedida e o erro RMS associado à ressecção. Consulte os botões Ressecção e Encontrar alvos automaticamente para obter mais informações sobre ressecções. Observe que pelo menos quatro pontos de ressecção devem ser medidos em uma imagem antes que ela possa ser ressecada.\nEssa opção geralmente não é usada, pois as imagens normalmente são ressecadas individualmente à medida que são medidas.\n\n\n9.9.12 Encontrar alvos em todas as imagens\nO comando de menu Medição | Encontrar alvos em todas as imagens executa um processo automático no qual todas as imagens do projeto atual são carregadas e uma tentativa é feita para medir quaisquer pontos de objeto não medidos em cada imagem. Enquanto esse processo estiver em execução, uma janela de progresso será exibida. O processo pode ser cancelado a qualquer momento clicando no botão Cancelar na janela de progresso.\nEssa opção geralmente é usada após um ajuste de feixe bem-sucedido. Após um ajuste de feixe, os parâmetros da câmera apresentam melhor qualidade e é provável que mais pontos de objeto possam ser medidos automaticamente. O procedimento geral consiste em excluir as medições excluídas pelo ajuste de feixe e, em seguida, executar esse processo para medir automaticamente quaisquer pontos de objeto não medidos. O ajuste de feixe pode então ser recalculado (consulte mais detalhes em Calculando o ajuste).\nObserve que esse processo tentará encontrar (em cada imagem) apenas os pontos de objeto que atualmente não possuem medição. Se um ponto já estiver medido, a medição atual do ponto será mantida sem alterações.\n\n\n9.9.13 Intersecção de todos os pontos\nO comando de menu Medição | Intersecção de todos os pontos utiliza as posições e orientações atuais da câmera para todas as imagens e intersecta todas as medições da imagem para calcular as coordenadas do objeto. Essa funcionalidade é usada para estimar as coordenadas do espaço do objeto para pontos recém-medidos.\nAo realizar ajustes de feixe com cubos de calibração, essa opção não é utilizada.\n\n\n9.9.14 Excluir medições de pontos rejeitadas\nO comando de menu Medição | Excluir medições de pontos rejeitadas excluirá todas as medições de pontos que foram marcadas como rejeitadas (as medições de pontos podem ser rejeitadas por ressecções, intersecções ou ajuste de feixe; consulte Cores de pontos, Valores para rejeição de medição). Essa função é normalmente usada após um ajuste de feixe para excluir todas as medições de pontos rejeitadas.\nQuarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "index.html#ajuste-3",
    "href": "index.html#ajuste-3",
    "title": "SeaGis-CAL-Guide PT/BR",
    "section": "9.10 Ajuste",
    "text": "9.10 Ajuste\n\nAdjustment\n\nEsta seção trata dos comandos de menu disponíveis no menu Adjustment. Esses comandos são usados para configurar e executar um ajuste do fardo das imagens (bundle adjustment). Antes de calcular um ajuste de fardo, é necessário realizar a resseção de todas as imagens, ver Section 4.9.1, e medir a maioria dos alvos na maioria das imagens (preferencialmente, todos os alvos visíveis em todas as imagens).\n\n9.10.1 Critérios de convergência\n\nConvergence criteria\n\nDurante o ajuste do fardo, os parâmetros (coordenadas dos pontos do objeto, posições e orientações da câmera e parâmetros de calibração da câmera) convergem para um valor final. O grau de convergência pode ser ajustado com precisão, se necessário. Consulte também Section 4.10.3.\n\n9.10.1.1 Object points\n\nPontos do objeto\n\nPara ajustar os critérios de convergência dos pontos do objeto, use o comando de menu Adjustment | Object point convergence criteria. Uma janela será exibida, permitindo o ajuste dos critérios de convergência. Esse valor geralmente pode ser definido como 1/1000 das unidades do espaço do objeto, por exemplo, 1 mícron se as unidades do espaço do objeto forem milímetros.2\n\n\n9.10.1.2 Camera positions and orientations\n\nPosições e orientações da câmera\n\nPara ajustar os critérios de convergência da posição e orientação da câmera, use o comando de menu Adjustment | Camera position and orientation convergence criteria. Uma janela será exibida, permitindo o ajuste dos critérios de convergência. Há dois valores: um para as orientações da câmera em unidades de segundos de arco e outro para a posição da câmera. As unidades para a posição da câmera serão em unidades do espaço do objeto x 1000. Os valores padrão são 1 segundo de arco para orientação e 1/1000 das unidades do espaço do objeto para posição (por exemplo, 1 mícron se as unidades do espaço do objeto forem milímetros).\n\n\n9.10.1.3 Camera parameters\n\nParâmetros da câmera\n\nOs critérios de convergência para os parâmetros da câmera podem ser definidos usando o comando de menu Adjustment | Camera convergence criteria. Cada um dos parâmetros da câmera (consulte Section 4.5.2) possui seus próprios critérios de convergência. A tabela a seguir fornece os valores padrão para os critérios de convergência da câmera.\n\n\n\n9.10.2 Ajustes de configuração\n\nAdjustment settings\n\n\n\n9.10.3 Cálculo do Ajuste\n\nComputing the adjustment\n\nApós todas as imagens serem ressecadas e os alvos medidos em todas elas, o ajuste de feixe pode ser calculado. Para executar o ajuste de feixe, use o comando de menu Ajuste | Calcular ajuste de feixe na janela principal do CAL. Uma janela de progresso é exibida com um botão Cancelar. O ajuste pode ser cancelado a qualquer momento clicando no botão Cancelar (o processo não será cancelado até que a iteração atual seja calculada). A janela exibe informações sobre o progresso do ajuste (o número da iteração) e o sigma zero (que indica a qualidade do ajuste e idealmente deve estar próximo de 1). O ajuste primeiro calcula uma solução inicial, seguida por uma série de soluções de reponderação, onde as medições de baixa qualidade são removidas automaticamente do ajuste. Finalmente, as precisões e correlações dos parâmetros são calculadas.\nNesta etapa, haverá um ajuste convergido com sucesso ou um ajuste que não convergiu. Uma nova janela será exibida. Essa janela contém duas caixas de listagem: a caixa de listagem superior exibe um resumo do ajuste em texto, e a caixa de listagem inferior exibe detalhes sobre o ajuste.\nUma caixa de mensagem pode ser exibida com avisos sobre medições de distância excluídas e/ou baixa precisão relativa. Os avisos são baseados em cenários típicos de calibração de câmeras estéreo usando o hardware de calibração SeaGIS. Nesses casos, o ajuste final do feixe não deve apresentar medições de distância excluídas, e há expectativas em relação à precisão relativa. Veja detalhes nos tópicos a seguir. Ignore o aviso se ele não se aplicar especificamente ao seu uso do CAL.\nConsiderando o resumo do ajuste, a primeira linha indicará se o ajuste convergiu com sucesso ou se houve falha. Outras informações fornecidas serão:\n\nIndica se as observações da imagem foram reponderadas para obter um sigma zero de 1 (consulte Precisão da medição da imagem) e se a reponderação foi bem-sucedida. O valor de sigma zero é fornecido, assim como a nova estimativa da precisão da medição da imagem.\n\n\n\nIndica se algum aspecto do processo de ajuste falhou e, em caso afirmativo, fornece uma indicação do que deu errado. Isso pode incluir falha na convergência dentro do número máximo de iterações (consulte Ajuste) ou falha na resolução das equações normais (isso geralmente indica que não foram medidos pontos de objeto suficientes em imagens suficientes ou pode ser causado por restrições de pontos de objeto sem sentido).\n\n\n\nO resíduo médio da imagem (geralmente deve ser sempre menor que 0,3 pixels).\n\n\n\nO número total de parâmetros do modelo de ajuste, parâmetros restritos e redundâncias. O número de redundâncias para uma calibração de câmera estéreo geralmente será da ordem de 5.000.\n\n\n\nO número de medições de imagem e distância elegíveis e excluídas, e restrições de pontos de objeto. As medições excluídas não atenderam aos parâmetros definidos em Valores para rejeição de medição. Após um ajuste inicial, pode haver muitas medições de imagem elegíveis excluídas. Isso é normal. Ao usar o hardware de calibração do SeaGIS (um cubo), não deve haver nenhuma medição de distância elegível excluída – isso pode indicar: um cubo montado incorretamente, um cubo danificado ou localizações de pontos de ressecção medidas incorretamente.\n\n\n\nAvisos se houver pontos no espaço do objeto que não possuem coordenadas estimadas. Isso ocorrerá se novos pontos do objeto forem adicionados sem estimativas de coordenadas (isso nunca deve acontecer com projetos de cubo de calibração). Use a interseção para estimar as coordenadas (consulte Interseccionar todos os pontos).\n\n\n\nAvisos se houver distâncias medidas para pontos do objeto que não existem ou para pontos do objeto que não possuem coordenadas estimadas.\n\n\n\nAvisos se houver posições de câmera não selecionadas (consulte Medição de ponto).\n\n\n\nAvisos se houver medições de imagem feitas para pontos de objeto que não existem ou para pontos de objeto que não possuem uma coordenada estimada.\n\n\n\nAvisos se houver medições associadas a uma câmera que não faz parte de um projeto (pode ocorrer se uma câmera for excluída de um projeto existente, mas ainda houver medições associadas à câmera excluída).\n\n\n\nAvisos se forem usadas restrições estéreo e as restrições não tiverem sido estimadas ou envolverem posições de câmera inválidas ou não estimadas (consulte Restrições estéreo).\n\n\n\nA precisão relativa (consulte View object point summary). Para a calibração estéreo de um sistema de câmera de alta definição usando o hardware de calibração do SeaGIS (um cubo), esse valor deve ser em torno de 1:10.000 ou melhor. A precisão relativa pode ser prejudicada por: baixa visibilidade, iluminação inadequada (baixo contraste do alvo), imagens desfocadas, número insuficiente de pontos medidos ou cubo muito distante das câmeras.\n\nSe o ajuste não convergir, os parâmetros que não estão convergindo serão relatados. A não convergência geralmente está associada a uma geometria de rede inadequada ou a um número insuficiente de medições em imagens suficientemente diferentes (isso nunca deve ocorrer com redes de calibração que envolvem cubos de calibração, como no Apêndice A - Orientações do cubo de calibração). Para forçar a convergência do ajuste, os critérios de convergência para os parâmetros que estão falhando podem ser ajustados para forçar a rede a convergir (consulte Critérios de convergência) ou o número máximo de iterações para o ajuste do feixe pode ser aumentado temporariamente (consulte Ajuste).\nA caixa de listagem Detalhes fornece informações mais detalhadas sobre os resultados do ajuste. Todos os itens listados podem ser visualizados com mais detalhes clicando duas vezes sobre o item. As seguintes informações são fornecidas:\n\nParâmetros da câmera: Para cada câmera, um resumo dos parâmetros da câmera. Essas informações são as mesmas exibidas em Edição de parâmetros da câmera. Certifique-se de que a distância focal esteja correta. Todos os outros parâmetros devem ter uma magnitude pequena – parâmetros com grande magnitude indicam um problema.\n\n\n\nResumo dos pontos do objeto. Essas informações são as mesmas exibidas em Visualização do resumo dos pontos do objeto. Verifique se a precisão relativa está correta. O número de pontos não estimados deve ser 0. O intervalo entre os desvios padrão máximo e mínimo dos pontos deve ser pequeno. Se o desvio padrão máximo dos pontos for muito grande, isso indica que alguns pontos do objeto não foram medidos o suficiente para estimar as coordenadas com precisão. Esses pontos devem ser identificados e mais medições de imagem devem ser feitas nesses pontos.\n\n\n\nCoordenadas/precisões dos pontos do objeto. Essas informações são as mesmas exibidas em Viewing and manipulating object space points (Visualização e manipulação de pontos no espaço do objeto). Nesta janela, identifique os pontos que apresentam desvios padrão maiores que a média (sX, sY, sZ). Geralmente, eles terão um número menor de medições (Nº de Obs.) em comparação com outros pontos. É necessário realizar mais medições de imagem nesses pontos. Verifique rapidamente se as coordenadas dos pontos do objeto estão dentro do intervalo esperado.\n\n\n\nOrientação e posições da câmera (e observações da imagem). Essas informações são as mesmas exibidas em Dados de orientação da imagem. Nesta janela, examine todas as posições e orientações da câmera e certifique-se de que os valores sejam razoáveis ​​(observe especialmente as posições da câmera que não se encaixam). Observe a precisão das posições da câmera (sX, sY, sZ) e das orientações (sOmega, sPhi, sKappa), bem como o número de medições em cada imagem (Nº de obs.). Esses valores devem ter magnitude semelhante em todas as imagens. Se uma imagem apresentar um desempenho particularmente pior, pode ser porque ela não possui medições suficientes dos pontos do objeto ou porque a qualidade da imagem pode ser inferior. Você também pode examinar as medições e os resíduos de uma imagem específica clicando duas vezes nela, embora o Resumo de resíduos da imagem abaixo possa ser mais útil.\n\n\n\nResumo de resíduos da imagem. Estas são as mesmas informações descritas em Resumo de medições da imagem. Analise os resíduos médios da imagem e identifique quaisquer imagens que apresentem uma média visivelmente maior do que as demais. Investigue as medições e/ou a qualidade da imagem associadas a essas imagens. Frequentemente, uma imagem com uma média alta pode ter pontos de ressecção mal identificados ou medições feitas em alvos mal identificados. Nesses casos, é prudente excluir todas as medições da imagem com uma média alta e medi-la novamente. Uma média alta também pode ser causada por baixa qualidade da imagem (geralmente desfoque de movimento).\n\n\n\nTodas as medições da imagem. Estas são as mesmas informações exibidas em Visualizar/excluir medições da imagem. Classifique os dados nesta janela clicando duas vezes na coluna Rejeitadas para trazer todas as medições rejeitadas para o topo. Observe se as medições rejeitadas tendem a estar associadas a um ou mais pontos do objeto. Nesse caso, investigue todas as medições até o(s) ponto(s) específico(s) do objeto, pois a medição pode ter sido feita no ponto errado.\n\n\n\nMedições de distância. Esta opção só será exibida se houver medições de distância. As informações são as mesmas exibidas em Visualizando e manipulando distâncias. Verifique se alguma distância está sendo excluída (isso não deve acontecer com um cubo de calibração e indica que o cubo ou os alvos nele contidos podem ter sido danificados fisicamente).\n\n\n\nVisualizar correlações. Clicar duas vezes neste item abre outra janela que permite visualizar as correlações entre os parâmetros. Insira o coeficiente de correlação desejado; quaisquer parâmetros acima do coeficiente de correlação especificado serão relatados. Você pode optar por incluir ou excluir os parâmetros de posição e orientação (orientação externa) da câmera, conforme necessário. Após a configuração, clique no botão Fechar caixa de diálogo e uma nova janela será exibida mostrando quaisquer parâmetros correlacionados. Se a janela estiver vazia, não havia parâmetros acima dos limites prescritos.\n\n\n\nRestrições estéreo e resíduos. Esses dados só aparecerão se você usar restrições estéreo no ajuste de feixe (consulte Restrições estéreo). As informações e a interpretação são as mesmas que em Visualizando as restrições. Se muitos dos componentes de restrição estéreo estiverem sendo excluídos, a ponderação da restrição pode precisar ser relaxada (consulte Restrições estéreo).\n\n\n\n Restrições estéreo – orientação relativa. Esses dados só aparecerão se você usar restrições estéreo no ajuste de feixe (consulte Restrições estéreo). As informações e a interpretação são as mesmas que em Visualizando a orientação relativa.\n\nSe o ajuste for bem-sucedido, o botão Aceitar na parte inferior da janela será habilitado. Após avaliar os resultados do ajuste e certificar-se de que o resultado é válido, clique no botão Aceitar para adotar o resultado do ajuste de feixe. Ao clicar no botão Aceitar, os parâmetros da câmera, as coordenadas dos pontos do objeto e as posições e orientações da câmera são atualizados com os resultados calculados no ajuste de feixe. Se o ajuste falhar ou o resultado não for satisfatório, clique no botão Cancelar para ignorar os resultados do ajuste. Nunca aceite os resultados de um ajuste de feixe questionável.\nApós concluir um ajuste de feixe bem-sucedido, é recomendável excluir as medições de imagem que foram excluídas pelo ajuste (consulte Excluir medições de pontos rejeitadas).\nSe houver muitos pontos do objeto que não foram medidos com sucesso (como geralmente ocorre quando não há informações de calibração anteriores para uma câmera), esses pontos agora devem ser medidos automaticamente com sucesso. Assim que o ajuste de feixe for calculado com sucesso, haverá parâmetros de calibração da câmera melhores, permitindo que os alvos não medidos sejam medidos automaticamente. O procedimento para medição automática de todas as imagens do projeto é descrito em Encontrar alvos em todas as imagens. Após a medição de mais alvos, o ajuste do feixe pode ser recalculado. Observe que nunca será possível medir todos os alvos em todas as imagens, pois alguns alvos inevitavelmente estarão ocluídos.\n\n\n9.10.4 Razões pelas quais um ajuste de feixe pode falhar\nÀs vezes, o ajuste de feixe pode falhar, e pode ser difícil identificar exatamente por que isso está acontecendo. A seguir estão algumas razões e soluções comuns:\n\nO ajuste pode não convergir devido a uma ou duas medições realmente ruins. Se for possível forçar o ajuste a convergir ao menos uma vez, essas medições problemáticas serão identificadas e removidas.\n\nAjuste o máximo de interações usando o Ajustment | Ajustment settings e ponha o Maximum iterations em 500.\n\nMedições insuficientes para pontos suficientes. Às vezes, há uma tendência de calcular o ajuste de feixe antes de realizar medições suficientes em um número adequado de pontos do objeto e em imagens suficientes. Quando isso ocorre, o ajuste de feixe pode falhar completamente ou não convergir. Nesse caso, é simplesmente necessário realizar mais medições. O ajuste de feixe depende de redundância (muitas medições) para detectar e eliminar de forma confiável medições errôneas. Se não houver medições suficientes, a detecção correta dessas medições incorretas torna-se difícil e pode levar à falha do ajuste de feixe.\n\nNão se preocupe em calcular o ajuste de feixe até que toda a sequência de calibração tenha sido medida (ver Apêndice A — Orientações do cubo de calibração). Se o processo de centroiding não estiver encontrando muitos pontos, tente ajustar o brilho e o contraste da imagem para realçar os alvos (Brightness and contrast). Também pode ser necessário ajustar a configuração de centróide “Minimum Pixel Intensity Range”, reduzindo esse valor (Editing and fine tuning settings).\n\nUm ajuste pode falhar se pontos medidos tiverem sido atribuídos a um ID de ponto incorreto. Se um ponto for medido de forma consistente e receber um ID incorreto em muitas imagens, isso causará confusão no ajuste de feixe (ou seja, o ajuste de feixe não conseguirá identificar com precisão que o ponto incorreto foi medido). Isso pode se tornar um problema sério se os pontos iniciais de resseção forem identificados incorretamente, pois, nesse caso, todos os demais pontos do objeto medidos automaticamente na imagem provavelmente também serão identificados de forma incorreta.\n\nPercorra todas as imagens e verifique cuidadosamente se os pontos de resseção estão corretamente identificados em cada imagem. Se você encontrar uma imagem com pontos de resseção medidos incorretamente, a forma mais simples é excluir a imagem e medi-la novamente.\n\nSe você estiver tendo dificuldades com um ajuste de feixe, especialmente se tiver aceitado os resultados de um ajuste ruim, é recomendável recarregar o arquivo original de pontos do objeto (uma versão “limpa” do arquivo, e não aquela criada pelo ajuste que está causando problemas; ver Reading the object point file).\n\nApós recarregar uma versão “limpa” do arquivo de pontos do objeto, utilize o comando de menu Measurement | Resect all images e, em seguida, calcule novamente o ajuste de feixe.\nSe isso não for bem-sucedido, recarregue uma versão limpa do arquivo de pontos do objeto usando Object points | Read from file. Exclua todas as medições, exceto os pontos de resseção: Measurement | View/delete image measurements, ordene pela coluna Point ID e apague todas as medições de pontos, mantendo apenas os pontos de resseção (nos cubos SeaGIS, estes correspondem aos pontos 100, 101, 102, 103 e 104).\nEm seguida, faça a resseção de todas as imagens com Measurement | Resect all images, depois localize os alvos com Measurement | Find targets in all images e, por fim, recalcule o ajuste de feixe\n\nQuando um ajuste não converge, examine o relatório resumo dos resíduos de imagem na janela Adjustment results. Observe os campos Valid points e Average magnitude.\n\nInvestigue qualquer imagem que apresente um Average magnitude mais alto do que o habitual (qualquer valor superior a três vezes a média) e qualquer imagem que tenha um número de Valid points inferior ao esperado (menos da metade dos alvos medidos). Em geral, a maneira mais simples é excluir essas imagens e medi-las novamente.\nVeja também a seção a seguir.\n\n\n9.10.5 Falha de ajustes com um cubo de calibração SeaGIS\nFrequentemente, a razão para a falha de um ajuste de feixe está relacionada a estimativas inadequadas dos parâmetros da câmera, o que resulta em medições automáticas de imagem de baixa qualidade. Quando se dispõem de boas estimativas dos parâmetros da câmera (obtidas a partir de calibrações anteriores), geralmente não há problemas na execução do ajuste. Quando o ajuste falha ao utilizar um cubo de calibração de duas faces, uma estratégia útil é realizar a calibração usando apenas a face frontal do cubo. Isso fornece boas estimativas dos parâmetros da câmera, permitindo que, posteriormente, seja calculada uma calibração utilizando ambas as faces do cubo.\nPara chegar ao ponto em que o ajuste de feixe está falhando, presume-se que você já tenha realizado um conjunto de medições no material de calibração. As instruções abaixo assumem que um projeto já foi criado e que existe um conjunto completo de medições:\n\nSalve uma cópia das medições realizadas até o momento usando Measurement | Write measurement file. Nomeie o arquivo como “Complete”, ou algo similar, para indicar que se trata do conjunto original completo de medições.\nCarregue uma cópia original “limpa” do arquivo do cubo de calibração (.PtsCAL) usando Object points | Read from file.\nExclua as medições referentes aos pontos da face traseira do cubo usando Measurement | Delete back face measurements.\nRealize a resseção de todas as imagens usando Measurement | Resect all images.\nCalcule o ajuste de feixe em Adjustment | Compute bundle adjustment.\nSupondo que o ajuste de feixe seja bem-sucedido, exclua as medições de pontos rejeitadas usando Measurement | Delete rejected point measurements.\nReintroduza a face traseira do cubo utilizando Measurement | Find targets in all images.\nExecute um novo ajuste de feixe (agora utilizando os pontos medidos nas faces frontal e traseira do cubo) e prossiga da forma habitual após a conclusão bem-sucedida do ajuste de feixe."
  },
  {
    "objectID": "bruv.html",
    "href": "bruv.html",
    "title": "Projeto Meros do Brasil",
    "section": "",
    "text": "Verificar carga das baterias.\nVerificar armazenamento dos cartões de memória.\nVerificar funcionamento das câmeras.\nVerificar preseça de todos os componentes e peças do BRUV.\nVerificar presença de todas as porcas para ajuste das ."
  },
  {
    "objectID": "bruv.html#preparação-para-o-lançamento",
    "href": "bruv.html#preparação-para-o-lançamento",
    "title": "Projeto Meros do Brasil",
    "section": "2.1 Preparação para o lançamento",
    "text": "2.1 Preparação para o lançamento\n\nMonte os pés dos BRUVS.\nPrepare a haste da isca com o cano de armazenamento das iscas, mas não adicione isca ainda, para não ficar pingando no barco.\nQuando for conectar a haste da isca, tenha cuidado com a bóia de flutuação do BRUV. Está deve passar por fora da haste. Lembre-se de levantá-la antes de fixar a haste.\nLigue as câmeras e verifique a ação.\nConecte o cabo de lançamento ao BRUV.\nTenha a disposição uma quantidade\nAmarrar a bóia de sinalização ao cabo de lançamento.\nNão passar o cabo SOMENTE no D-ring plástico da boía para não forçar.\nPasse também por dentro de uma dos tirantes horizontais da bóia como backup de segurança para caso do D-ring quebre."
  },
  {
    "objectID": "bruv.html#lançamento-na-água",
    "href": "bruv.html#lançamento-na-água",
    "title": "Projeto Meros do Brasil",
    "section": "2.2 Lançamento na água",
    "text": "2.2 Lançamento na água"
  },
  {
    "objectID": "bruv.html#que-informações-anotar",
    "href": "bruv.html#que-informações-anotar",
    "title": "Projeto Meros do Brasil",
    "section": "2.3 Que informações anotar?",
    "text": "2.3 Que informações anotar?"
  },
  {
    "objectID": "bruv.html#remoção-da-água",
    "href": "bruv.html#remoção-da-água",
    "title": "Projeto Meros do Brasil",
    "section": "2.4 Remoção da água",
    "text": "2.4 Remoção da água"
  },
  {
    "objectID": "bruv.html#lavagem",
    "href": "bruv.html#lavagem",
    "title": "Projeto Meros do Brasil",
    "section": "3.1 Lavagem",
    "text": "3.1 Lavagem"
  },
  {
    "objectID": "bruv.html#cartões-de-memória-baterias",
    "href": "bruv.html#cartões-de-memória-baterias",
    "title": "Projeto Meros do Brasil",
    "section": "3.2 Cartões de memória & Baterias",
    "text": "3.2 Cartões de memória & Baterias"
  },
  {
    "objectID": "emergence.html",
    "href": "emergence.html",
    "title": "Projeto Meros do Brasil",
    "section": "",
    "text": "Important\n\n\n\nImprima e plastifique este plano para levar sempre"
  },
  {
    "objectID": "emergence.html#o-que-fazer-em-caso-de-acidente-embarcado",
    "href": "emergence.html#o-que-fazer-em-caso-de-acidente-embarcado",
    "title": "Projeto Meros do Brasil",
    "section": "",
    "text": "Important\n\n\n\nImprima e plastifique este plano para levar sempre"
  }
]
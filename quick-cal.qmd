---
title: "Guia R√°pido CAL/ SeaGIS"

author: 
  name: Supervisor de Pesquisa SC
  email: pesquisasc@merosdobrasil.org
  affiliation: 
    name: Intituto Meros do Brasil
    url: https://merosdobrasil.org/
    
execute: 
  freeze: auto

abstract: "Este Guia R√°pido foi criado parte do Projeto Meros do Brasil para direcionar a calibra√ß√£o do nosso sistema Stereo-BRUV. Portanto, cada BRUV representa um set up de duas c√¢meras, uma esquerda e outra direita, de mesmo modelo e configura√ß√£o."
---

## Organize-se!

1.  Crie um novo diret√≥rio (pasta) para armazenar seus projetos de calibra√ß√£o.

    ![](images/clipboard-2973557940.png)

2.  Dentro desta pasta, crie novos diret√≥rio (multiplas pastas) para cada configura√ß√£o de BRUV. Estas distin√ß√µes se baseiam principalmente na resolu√ß√£o da c√¢mera utilizada e no campo de vis√£o (*Field of View*).

![](images/clipboard-387526838.png)

3.  Dentro das respectivas pastas de BRUV, **cole** os respectivos os arquivos de v√≠deo (**.MP4**). Lembre-se, ser√£o dois, um da c√¢mera esquerda (E) e outro da c√¢mera direita (D).

    ![](images/clipboard-2873460924.png)

    ![](images/clipboard-328657837.png)

::: {.callout-tip appearance="simple"}
Para facilitar, **renomei** os arquivos de v√≠deo (.MP4) conforme a **ID do BRUV**, o **lado da c√¢mera** e a **resolu√ß√£o** utilizada, seguindo nescess√°riamente esta ordem. Ao final, **mantenha o nome do arquivo original** gerado pela c√¢mera. N√£o utilize espa√ßos nem caracteres especiais.

Ex: B2_D_2160_GX010364 (*bruvID_lado_resolucao_nome original*).
:::

4.  Na mesma pasta de trabalho, adicione tamb√©m a **c√≥pia** do arquivo de calibra√ß√£o do cubo (**.PtsCAL**).

    ![](images/clipboard-1271673136.png)

    ![](images/clipboard-3344884228.png)

::: {.callout-caution appearance="simple"}
O arquivo de calibra√ß√£o do cubo (**.PtsCAL**) variam de acordo com o modelo de cubo de calibra√ß√£o utilizado. Estes arquivos s√£o fornecidos pela SeaGIS no momento da compra. Se necess√°rio, contacte a representa√ß√£o da empresa.
:::

5.  Al√©m disso, adicione o arquivo de par√¢metros da c√¢mera (**.CamCAL**), conforme modelo e configura√ß√£o empregada. Estes arquivos s√£o fornecidos pela SeaGIS, no site: <https://www.seagis.com.au/download.php>.

    ![](images/clipboard-1271673136.png)

    ![](images/clipboard-742698619.png)

6.  Ao final, voc√™ ter√°, normalmente, 04 (quatro) arquivos:

```         
-   V√≠deo da C√¢mera Esquerda (.MP4);

-   V√≠deo da C√¢mera Direita (.MP4);

-   Arquivo de calibra√ß√£o do cubo (.PtsCAL), conforme modelo.

-   Arquivo de par√¢metros da c√¢mera (.CamCAL), conforme modelo e resolu√ß√£o.
```

7.  Com o PEN-DRIVE fornecido pela SeaGIS conectado ao seu computador, inicie o programa de calibra√ß√£o CAL (Downloads: <https://www.seagis.com.au/download.php>)

8.  No CAL, crie um novo projeto atrav√©s do menu: *Project \| New project*

    ![](images/clipboard-3423544538.png)

9.  Voc√™ ser√° solicitado para salvar quaisquer dados n√£o salvos associados ao projeto atual. Insira um nome para o arquivo do projeto (por exemplo, **‚Äú***ProjCAL_B2_2160***‚Äù**) e salve o arquivo do projeto no diret√≥rio que voc√™ acabou de criar para este projeto.

```         
![](images/clipboard-1271673136.png)

![](images/clipboard-3448108106.png)

::: {.callout-note appearance="simple"}
A cria√ß√£o de um novo projeto inicia um processo de assistente do pr√≥prio programa que ir√° solicitar a configura√ß√£o do restante do projeto. Basta seguir as instru√ß√µes, lembrando que todos os arquivos est√£o localizados no mesmo diret√≥rio, e que o CAL usar√°, por padr√£o, o diret√≥rio onde o novo arquivo de projeto foi criado.
:::
```

10. Carregue os arquivos de par√¢metro da c√¢mera esquerda e direita (**.CamCAL**), conforme solicitado.

    ::: {.callout-caution appearance="simple"}
    Aten√ß√£o! √â um mesmo arquivo (**.CamCAL**) para ambas as c√¢meras, pois utilizamos em cada lado do BRUV c√¢meras de mesmo modelo e mesma configura√ß√£o.
    :::

11. Carregue o arquivo do cubo de calibra√ß√£o (**.PtsCAL**), conforme solicitado.

12. Defina o diret√≥rio de imagens conforme solicitado.

    ::: {.callout-note appearance="simple"}
    **O diret√≥rio de imagens √© automaticamente definido como o mesmo diret√≥rio do arquivo do projeto**; portanto, se todos os arquivos da calibra√ß√£o estiverem em um √∫nico diret√≥rio, basta verificar e clicar em **OK**.
    :::

13. O programe pedir√° para que salve o novo arquivo de medi√ß√µes (**.ObsCAL**) que ser√° atrelado ao projeto. **Basta atribuir um nome a esse arquivo** (por exemplo, **‚Äú***MeasureCAL_B2_2160***‚Äù**). Este arquivo ser√° o local onde as medi√ß√µes da calibra√ß√£o ser√£o armazenadas.

    ::: {.callout-note appearance="simple"}
    O programa tamb√©m ir√° gerar um arquivo de *backup* autom√°tico das medi√ß√µes (**.ObsCAL_AUTO**).
    :::

    ![](images/clipboard-1271673136.png)

    ![](images/clipboard-3041673086.png)

14. Carregue o arquivo de v√≠deo da c√¢mera **ESQUERDA**. Ele ser√° automaticamente adicionado √† configura√ß√£o da sequ√™ncia de filmes. Caso existam mais arquivos de v√≠deo na sequ√™ncia, eles podem ser adicionados nesse momento (ver **Sequ√™ncias de filmes**). Em seguida, clique em **OK**.

15. Carregue o arquivo de v√≠deo da c√¢mera **DIREITA**. Idem.

16. A janela *Current project files* (*Arquivos do projeto atual*) ser√° exibida. **Todos os campos devem estar preenchidos** e todos os itens listados devem estar no **mesmo diret√≥rio**. Clique em *Close dialog* (*Fechar di√°logo*).

    ![](images/clipboard-3162917403.png)

## Explore mais!

-   Se for em *Camera \| Left/Right \| Edit parameters*, voc√™ ter√° acesso as caracter√≠sticas √≥pticas da c√¢mara.

    ![](images/clipboard-175649103.png)

-   Essas informa√ß√µes s√£o importantes quando se trabalha cientificamente com a vis√£o.

    ![](images/clipboard-1832882555.png)

-   √â importante sempre anotar a vers√£o do programa. Essas informa√ß√µes devem constar na se√ß√£o de m√©todos de poss√≠veis manuscritos acad√™micos, pois representa o estado exato dos algor√≠timos dos calculos realizados pelo programa.

## Sincronizando C√¢meras

1.  Plug o pen-drive no USB.

2.  Abra o programa CAL no seu computador (Downloads: <https://www.seagis.com.au/download.php>)

![](images/clipboard-316596302.png)

3.  Se voc√™ j√° tinha um projeto salvo, o programa abrir√° automaticamente nele. Ele sempre reinicia no √∫ltimo projeto que voc√™ trabalhou.

    ::: {.callout-note appearance="simple"}
    Acho que d√° para mudar isso nas configura√ß√µes, √© bom rever manual!
    :::

4.  Agora a gente vai sincronizar a c√¢mera. Para isso clique em *Play movie* na c√¢mera **esquerda**

    ![](images/clipboard-1011136995.png)

5.  √â para esse momento que serve o bater palmas ou os dedos (movimentos de *clap*). Servindo de claquete para marcar o in√≠cio da tomada, para gerarmos oo sincronismo audiovisual entre imagem e som.

    ::: {.callout-warning appearance="simple"}
    Anten√ß√£o! Aviso das Gal√°xias!

    PRESTE MUITA ATEN√á√ÉO A ESSE MOVIMENTO. ELE √â UM MOVIMENTO FUNDAMENTAL PARA SINCRONIZA√á√ÉO DA FOTOGRAMETRIA.

    PODEMOS INVIABILIZAR TODA A AMOSTRAGEM E DESPEDI√áAR TODO O ESFOR√áO DE CAMPO SE N√ÉO CONSEGUIRMOS SINCRONIZAR AS C√ÇMERAS.

    PERCEBER√Å QUE A AUS√äNCIA DESSE MOVIMENTO NA CALIBRA√á√ÉO DESPENDIR√Å DE SUA PARTE MUITO MAIS CAPRICHO E TEMPO PARA REALIZAR SEU TRABALHO.

    ESSE √â UM ERRO COMUM DURANTE AS OPERA√á√ïES DE CAMPO, POIS A UMA SERIES DE PASSOS QUE PRECISA SER SEGUIDOS E ACABAMOS POR NOS ESQUECER DOS MAIS SIMPLES.

    PORTANTO, NUNCA ESQUE√áA DE REALIZAR SEU CLAP ANTES DE LAN√áAR OS BRUVS

    SUGIRO AT√â QUE DESENVOLVA UM PR√ìPRIO. BUSQUE MOVIMENTOS R√ÅPIDOS E PRECISOS, MAS LEMBRE-SE DOS DIFERENTES √ÇNGULOS DAS C√ÇMERAS, VOC√ä PODE ACABAR TAPANDO A VISUALIZA√á√ÉO DE UMA DELAS. POR ISSO MESMO IREI PRATICAR A UTILIZA√á√ÉO DO CLAP CLAP INVEZ DO CLAP PARA SABER SE √â MELHOR, POIS ASSIM TEMOS DUAS CHANCES.

    A DICA √â CARANGUEJO. ü¶Ä
    :::

6.  Uma nova tela abrir√°:

    ![](images/clipboard-1263872465.png)

7.  Aumente o *Rate* para 5 (ou mude de acordo com a dist√¢ncia).

    ![](images/clipboard-2924529957.png)

8.  Aperte *Playback* ‚ñ∂Ô∏è

9.  Agora busque o momento sublime do *clap* (ou *clap clap*).

    ::: {.callout-tip appearance="simple"}
    N√£o use a barra de rolagem do v√≠deo. At√© d√° para usar de forma grosseira para tentar chegar o mais perto do momento clap. Assim, que voc√™ tentar, ver√° que ela n√£o tem movimentos preciso e atrapalha mais do que ajuda.
    :::

10. Quando passar ou estiver pr√≥ximo, *Pause!*

11. Use o *Frame stepping* para avan√ßar ou retroceder no momento antecessor ao *clap*.

    ![](images/clipboard-10482523.png)

12. Agora reduza o *Rate* para 1 e v√° avan√ßando no *Frame stepping* at√© o momento *clap* e clique em *Close player and update position*.

    ![](images/clipboard-3408781496.png)

13. Agora fa√ßa o mesmo para a c√¢mera da direita. Aperte *Play movie*.

    ![](images/clipboard-1804368135.png)

14. Encontre o momento *clap* e cliquei em *Close player and update position*

    ![](images/clipboard-3998749045.png)

15. Agora sim, come√ßaremos os trabalhos.

16. Ative o bot√£o *Lock*

    ![](images/clipboard-3929359159.png)

17. Aperte *Play movie* na c√¢mera esquerda, abrir√° a janela do *Movie player control*. Aumente o *Rate* (ex: 3) e clique em *Playback* ‚ñ∂Ô∏è. Pause no momento que antecede os movimentos sequenciais (s√£o 20 ao todo) que o quadrado de calibra√ß√£o precisa fazer para calibrar (Ver manual).

    ![](images/clipboard-2925575631.png)

    ::: {.callout-caution appearance="simple"}
    Perceba que na situa√ß√£o ilustrativa acima, o quadro de calibra√ß√£o se encontra relativamente distante em rela√ß√£o as c√¢meras. √â preciso buscar um melhor enquadramento.
    :::

18. Aperte *Close player and update position* e perceba que ambas as c√¢meras ir√£o atualizar para o frame em quest√£o. Isso se deve por termos selecionado o bot√£o *Lock*.

## Come√ßando os trabalhos

1.  Agora, vamos come√ßar marcar os pontos. Comece pelo frame da c√¢mera esquerda. Este processo precisara se feitos em ambas as c√¢meras (02) para cada sequ√™ncia de frame (20), no m√≠nimo (20\*2=40), seguindo o esquema de ponto, **conforme o modelo do seu cubo de calibra√ß√£o** (Ex: Cubo 142, abaixo):

    ![](images/clipboard-2197934981.png)

2.  Come√ße pelo ponto 100, que enontra-se justo acima da linha de refer√™ncia. Depois siga para o 101, 102, 103 e 104, estes s√£o os **pontos de ressec√ß√£o** (*ressection points*). A partir da√≠, 110 em diante. Voc√™ perceberar que essa sequ√™ncia j√° est√° pre programada dentro do programa.

    ::: {.callout-tip appearance="simple"}
    Utilize o material de apoio que eleboramos para voc√™ n√£o se perder, tanto na sequ√™ncia do quadrado como na posi√ß√£o dos pontos (POR LINK).
    :::

3.  Um dica √© apertar *Ctrl* no teclado e avan√ßar com o mouse para frente, isso ir√° dar zoom.

    ![](images/clipboard-308469490.png)

    ::: {.callout-warning appearance="simple"}
    √â, n√£o d√° para usar a bala de rolagem do mouse.
    :::

4.  Aperte *Shift* e um pequeno quadrado ir√° aparecer, este √© o **Centro√≠de.**

    ![](images/WhatsApp%20Image%202026-02-24%20at%2010.27.30.jpeg)

    ::: {.callout-note appearance="simple"}
    O centr√≥ide serve como um alvo que facilita a realiza√ß√£o da medida. Realizar a medida via centr√≥ide √© 10x melhor do que realizar apenas clicando diretamente (*point and click).*
    :::

5.  Ainda com o *Shift* pressionado, aponte a flecha do mouse no centro e clique com o bot√£o esquerdo do mouse para marcar um ponto.

    ![](images/clipboard-3599675830.png)

6.  Marque os pontos ressecion√°is (conforme j√° mencionado anteriormente).

7.  Em um determinado momento o CAL ir√° tentar plotar os demais pontos autom√°ticamente.

    ![](images/clipboard-444453288.png)

    ::: {.callout-note appearance="simple"}
    Ele acertar√° muitos e errar√° outros tantos. Alguns ele n√£o ir√° encontrar, em especial os do segundo plano (200, 201...). Independente disso voc√™ ter√° que verificar e corrigir cada um deles pontualmente.
    :::

8.  Pontos ressecion√°is (100,101,102,103 e 104) verdes indicam que foram bem calibrados.

    ![](images/clipboard-1275978551.png)

9.  Quantos mais pontos verdes em cada frame, melhor!

10. Se o ponto gerado pelo CAL cair no lugar errado, delete.

    ![](images/clipboard-1478588733.png)

11. Ponha o cursor do mouse sobre o ponto e clique com o bot√£o direito do mouse.

    ![](images/clipboard-1315559121.png)

12. Plote voc√™ manualmente. Zoom in (Ctrl+mouse) \> Centroiding (Shift) \> Point (mouse esquerdo)

13. Provavelmente sair√° outra numera√ß√£o que n√£o a correta. ![](images/clipboard-3014583428.png)

14. Clique com o bot√£o direito do mouse sobre ele e renomei para a numera√ß√£o que voc√™ achar que √©. Aperte \*OK\*.

    ![](images/clipboard-3952036695.png)

15. Tente encontrar o m√°ximo de pontos que conseguir. As informa√ß√µes ficaram registradas abaixo da tela esquerda:

    ![](images/clipboard-1103650313.png)

16. Quanto mais pontos (*No. points*) encontrar, mais preciso ser√° a calibra√ß√£o, em teoria.

```         
::: {.callout-tip appearance="simple"}
Busco, particularmente, frames que me permitam acima de 70 pontos.
:::
```

17. Pontos ressect√≠veis vermelhos √© um mau sinal. Quanto mais

    ![](images/clipboard-2138859243.png)

18. 
